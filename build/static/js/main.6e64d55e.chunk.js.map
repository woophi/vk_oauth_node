{"version":3,"sources":["core/models/state.ts","core/models/friends.ts","core/models/emoji.ts","assets/emoji lazy /^/.*/.png$/ groupOptions: {} namespace object","core/selectors/common.ts","core/selectors/router.ts","modules/emoji/Twemoji.tsx","core/emoji/index.ts","modules/home/Layout.tsx","panels/Home.tsx","assets/svg/AppIcon.tsx","modules/settings/SettingsLayout.tsx","panels/Settings.tsx","core/selectors/friends.ts","modules/friends/FriendsList.tsx","modules/friends/SelectedFriend.tsx","core/hooks/view.ts","panels/Friends.tsx","modules/modals/CleanTest.tsx","core/selectors/settings.ts","modules/modals/Root.tsx","assets/svg/WhiteDanceQuiz.tsx","modules/quiz/QuizPreview.tsx","assets/svg/NightQuiz.tsx","modules/quiz/QuizStart.tsx","core/selectors/quiz.ts","modules/quiz/QuizItem.tsx","modules/quiz/Slider.tsx","modules/quiz/QuizProcess.tsx","modules/quiz/QuizFinish.tsx","roots/Quiz.tsx","roots/Main.tsx","modules/routes/Router.tsx","App.tsx","core/reducers/mock/questions.ts","core/reducers/main.ts","core/reducers/mock/friends.ts","core/store/index.ts","core/vk-bridge/init.ts","index.tsx","core/fela/index.ts","core/models/index.ts"],"names":["MainEpicViewType","QuizView","HomeView","FriendsView","Emoji","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","getStateUi","state","ui","getStateRouter","router","getTheme","createSelector","theme","isThemeDrak","getLocationHash","location","query","hash","getLocationPathName","pathname","getLocationMainPath","pathName","match","matchPath","path","params","main","getLocationSubPath","sub","getLocationPathes","createStructuredSelector","getLocationMainView","Quiz","Main","Twemoji","React","memo","emoji","size","useState","loadedSrc","load","css","useFela","useEffect","emojiName","r","default","src","alt","className","width","height","display","HomeLayout","dark","useSelector","queryString","getSearch","dispatch","useDispatch","goToQuiz","useCallback","type","payload","view","Process","history","push","mode","backgroundColor","flexDirection","color","undefined","paddingTop","paddingBottom","NoEvil","weight","level","marginTop","onClick","header","icon","Home","separator","AppIcon","viewBox","fill","xmlns","clipPath","rx","filter","d","x","y","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","stdDeviation","in2","SettingsLayout","toggled","setToggle","handleToggle","preventDefault","showCleanTest","textAlign","marginBottom","disabled","after","onChange","checked","margin","before","Settings","getFriendsState","friends","getFriendsCompletedTest","list","f","completeTest","getFriendsNotCompletedTest","getFriends","friendsCompleted","friendsNotCompleted","getSelectedFriend","selected","getFriendsActiveView","List","SelectedFriend","FriendsList","goForward","openFriendStat","friend","avatar","name","userId","completedCells","key","expandable","notCompletedCells","multiline","selectedFriend","marginRight","borderRadius","padding","minHeight","useViewChange","viewEnum","defaultKeyView","withSwipe","defaultView","useMemo","activePanel","viewState","setView","goBack","pop","length","vkBridge","send","activeView","Friends","friendsBack","onSwipeBack","left","CleanTest","closeCleanTest","onClose","caption","style","border","justifyContent","getSettingsActiveModal","settings","modal","RootModals","activeModal","closeModal","WhiteDanceQuiz","QuizPreview","goToRootMain","replace","goToQuizStart","Start","alignSelf","NightQuiz","opacity","QuizStart","goToQuizProcess","overflow","getQuizState","quiz","getQuizView","getQuizActiveStep","activeStep","getQuizQuestionsDict","questions","getQuizQuestionsCount","getQuizHistory","QuizItem","firstAnswer","secondAnswer","step","steps","nextStep","Finish","alignItems","text","Slider","questionsArray","sel","currStep","newSet","Set","index","add","onMountSet","gone","setQuestions","slice","useSprings","i","delay","visibilty","scale","rotate","iconLeftX","iconRightX","to","from","props","set","bind","useDrag","args","down","mx","movement","xDir","direction","velocity","dir","isGone","has","window","innerWidth","config","friction","tension","div","position","maxWidth","transform","interpolate","s","visibility","v","rad","background","backgroundCard","boxShadow","transition","zIndex","lineHeight","question","top","right","reverse","QuizProcess","questionsDict","count","back","QuizFinish","goToMainview","fontSize","q","quiView","swipeBack","Preview","mainView","mainEpicView","goToHome","goToFriends","goToSettings","activeStory","tabbar","redirect","exact","strict","Router","quizView","render","App","isWebView","Coffee","Herb","Fuji","Palm","Football","Basketball","NiceSmile","JustSmile","Money","PointLeft","PointRight","Burger","Dish","Cat","Dog","Popcorn","PSJoystick","initialState","updateQuizHistory","h","backInQuizHistory","lastItem","find","_","newQuizHistory","createBrowserHistory","rootReducerMap","connectRouter","store","createStore","combineReducers","composeWithDevTools","applyMiddleware","routerMiddleware","subscribe","detail","data","schemeAttribute","document","createAttribute","unknownData","scheme","value","body","attributes","setNamedItem","felaRenderer","createRenderer","selectorPrefix","plugins","webPreset","embedded","ReactDOM","renderer","noInitialPop","getElementById"],"mappings":"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","file":"static/js/main.6e64d55e.chunk.js","sourcesContent":["import { Dispatch } from 'redux';\r\nimport { FriendItem, SelectedFriend  } from './friends';\r\nimport { Question } from './quiz';\r\nimport { LocationChangeAction, RouterState } from 'connected-react-router'\r\n\r\nexport type AppState = {\r\n  ui: {\r\n    theme: 'client_light' | 'space_gray' | '';\r\n    mainEpicView: MainEpicViewType;\r\n    quiz: {\r\n      view: QuizView;\r\n      activeStep: number;\r\n      questions: {\r\n        [step: number]: Question;\r\n      };\r\n      history: QuizView[];\r\n    };\r\n    friends: {\r\n      list: FriendItem[];\r\n      selected: SelectedFriend | null;\r\n    };\r\n    settings: {\r\n      modal: SettingsModal;\r\n    };\r\n  };\r\n  router?: RouterState<{ hash?: string }>\r\n};\r\n\r\nexport type AppDispatch =\r\n  | { type: 'GET_FRIENDS'; payload: FriendItem[] }\r\n  | { type: 'SET_THEME'; payload: 'client_light' | 'space_gray' }\r\n  | { type: 'SELECT_FRIEND'; payload: SelectedFriend }\r\n  | { type: 'CHANGE_QUIZ_VIEW'; payload: QuizViewPaylod }\r\n  | { type: 'BACK_QUIZ_HISTORY' }\r\n  | { type: 'SET_SETTINGS_MODAL'; payload: SettingsModal }\r\n  | { type: 'CHANGE_QUIZ_ACTIVE_STEP'; payload: number }\r\n  | { type: 'CHANGE_MAIN_EPIC_VIEW'; payload: MainEpicViewType }\r\n  | LocationChangeAction;\r\n\r\nexport type AppDispatchActions = Dispatch<AppDispatch>;\r\n\r\nexport enum MainEpicViewType {\r\n  Friends = 'friends',\r\n  Settings = 'settings',\r\n  Home = 'home',\r\n}\r\n\r\nexport enum QuizView {\r\n  Preview = 'preview',\r\n  Start = 'start',\r\n  Process = 'process',\r\n  Finish = 'finish',\r\n}\r\nexport enum HomeView {\r\n  Quiz = 'quizView',\r\n  Main = 'mainView'\r\n}\r\n\r\nexport type QuizHistory = 'back' | 'forward' | 'init';\r\n\r\nexport type QuizViewPaylod = { view: QuizView; history?: QuizHistory };\r\n\r\nexport type SettingsModal = 'clean_test' | null;\r\n","export type FriendItem = {\r\n  avatar: string;\r\n  name: string;\r\n  userId: number;\r\n  completeTest: boolean;\r\n};\r\n\r\nexport type SelectedFriend = {\r\n  quiz?: {\r\n    questions: {\r\n      question: string;\r\n      answer: string;\r\n      userAnswer: string;\r\n    };\r\n  };\r\n} & Omit<FriendItem, 'completeTest'>;\r\n\r\nexport enum FriendsView {\r\n  List = 'friends',\r\n  SelectedFriend = 'friend',\r\n}\r\n","export enum Emoji {\r\n  Coffee = 'coffee',\r\n  Herb = 'herb',\r\n  Fuji = 'fuji',\r\n  Palm = 'palm',\r\n  Football = 'football',\r\n  Basketball = 'basketball',\r\n  NiceSmile = 'nice_smile',\r\n  JustSmile = 'just_smile',\r\n  Money = 'money',\r\n  Heart = 'heart',\r\n  PointLeft = 'point_left',\r\n  PointRight = 'point_right',\r\n  Burger = 'burger',\r\n  Dish = 'dish',\r\n  Cat = 'cat',\r\n  Dog = 'dog',\r\n  Popcorn = 'popcorn',\r\n  PSJoystick = 'ps_joystick',\r\n  NoEvil = 'no_evil'\r\n}\r\n","var map = {\n\t\"./basketball.png\": [\n\t\t331,\n\t\t3\n\t],\n\t\"./burger.png\": [\n\t\t332,\n\t\t4\n\t],\n\t\"./cat.png\": [\n\t\t333,\n\t\t5\n\t],\n\t\"./coffee.png\": [\n\t\t334,\n\t\t6\n\t],\n\t\"./dish.png\": [\n\t\t335,\n\t\t7\n\t],\n\t\"./dog.png\": [\n\t\t336,\n\t\t8\n\t],\n\t\"./football.png\": [\n\t\t337,\n\t\t9\n\t],\n\t\"./fuji.png\": [\n\t\t338,\n\t\t10\n\t],\n\t\"./heart.png\": [\n\t\t339,\n\t\t11\n\t],\n\t\"./herb.png\": [\n\t\t340,\n\t\t12\n\t],\n\t\"./just_smile.png\": [\n\t\t341,\n\t\t13\n\t],\n\t\"./money.png\": [\n\t\t342,\n\t\t14\n\t],\n\t\"./nice_smile.png\": [\n\t\t343,\n\t\t15\n\t],\n\t\"./no_evil.png\": [\n\t\t344,\n\t\t16\n\t],\n\t\"./palm.png\": [\n\t\t345,\n\t\t17\n\t],\n\t\"./point_left.png\": [\n\t\t346,\n\t\t18\n\t],\n\t\"./point_right.png\": [\n\t\t347,\n\t\t19\n\t],\n\t\"./popcorn.png\": [\n\t\t348,\n\t\t20\n\t],\n\t\"./ps_joystick.png\": [\n\t\t349,\n\t\t21\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 326;\nmodule.exports = webpackAsyncContext;","import { AppState } from 'core/models';\r\nimport { createSelector } from 'reselect';\r\n\r\nexport const getStateUi = (state: AppState) => state.ui;\r\nexport const getStateRouter = (state: AppState) => state.router;\r\n\r\nexport const getTheme = createSelector(getStateUi, (ui) => ui.theme);\r\n\r\nexport const isThemeDrak = createSelector(\r\n  getTheme,\r\n  (theme) => theme === 'space_gray'\r\n);\r\n","import { createSelector, createStructuredSelector } from 'reselect';\r\nimport { getStateRouter } from './common';\r\nimport { matchPath } from 'react-router';\r\nimport { HomeView } from 'core/models';\r\n\r\nexport const getLocationHash = createSelector(\r\n  getStateRouter,\r\n  (router) => (router.location as any).query?.hash ?? ''\r\n);\r\n\r\nexport const getLocationPathName = createSelector(\r\n  getStateRouter,\r\n  (router) => router.location.pathname\r\n);\r\n\r\nexport const getLocationMainPath = createSelector(\r\n  getLocationPathName,\r\n  (pathName) => {\r\n    const match = matchPath<{ main: string }>(pathName, { path: '/:main' });\r\n    return match ? match.params.main : null;\r\n  }\r\n);\r\n\r\nexport const getLocationSubPath = createSelector(getLocationPathName, (pathName) => {\r\n  const match = matchPath<{ sub: string }>(pathName, { path: '/:main/:sub' });\r\n  return match ? match.params.sub : null;\r\n});\r\n\r\nexport const getLocationPathes = createStructuredSelector({\r\n  main: getLocationMainPath,\r\n  sub: getLocationSubPath,\r\n});\r\n\r\nexport const getLocationMainView = createSelector(\r\n  getLocationPathName,\r\n  (pathName) => {\r\n    const match = matchPath<{ main: string; sub: string }>(pathName, {\r\n      path: '/:main/:sub',\r\n    });\r\n    return match\r\n      ? match.params.main === 'home' && match.params.sub === 'quiz'\r\n        ? HomeView.Quiz\r\n        : HomeView.Main\r\n      : HomeView.Main;\r\n  }\r\n);\r\n","import React from 'react';\r\nimport { emojiSrc } from 'core/emoji';\r\nimport { Emoji } from 'core/models';\r\nimport { useFela } from 'react-fela';\r\n\r\ntype Props = { emoji: Emoji; size: number };\r\n\r\nexport const Twemoji = React.memo<Props>(({ emoji, size }) => {\r\n  const [loadedSrc, load] = React.useState('');\r\n  const { css } = useFela();\r\n\r\n  React.useEffect(() => {\r\n    emojiSrc(emoji).then((r) => load(r?.default ?? ''));\r\n  }, [emoji]);\r\n\r\n  return (\r\n    <img\r\n      src={loadedSrc}\r\n      alt={emoji}\r\n      className={css({ width: `${size}px`, height: `${size}px`, display: 'flex' })}\r\n    />\r\n  );\r\n});\r\n","import { Emoji } from 'core/models';\r\n\r\nexport const emojiSrc = (emojiName: Emoji) =>\r\n  import(`assets/emoji/${emojiName}.png`);\r\n","import React from 'react';\r\nimport {\r\n  Div,\r\n  Group,\r\n  CardGrid,\r\n  Card,\r\n  Title,\r\n  Text,\r\n  Button,\r\n  Placeholder,\r\n  Header,\r\n} from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport Icon28StatisticsOutline from '@vkontakte/icons/dist/28/statistics_outline';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { QuizView, Emoji } from 'core/models';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { getLocationHash } from 'core/selectors/router';\r\nimport { push, getSearch } from 'connected-react-router';\r\nimport { Twemoji } from 'modules/emoji/Twemoji';\r\n\r\nexport const HomeLayout = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const hash = useSelector(getLocationHash);\r\n  const queryString = useSelector(getSearch);\r\n  const dispatch = useDispatch();\r\n\r\n  const goToQuiz = React.useCallback(() => {\r\n    if (!hash) {\r\n      dispatch({\r\n        type: 'CHANGE_QUIZ_VIEW',\r\n        payload: { view: QuizView.Process, history: 'init' },\r\n      });\r\n    }\r\n    dispatch(push(hash ? '/home/quiz' + queryString : '/home/quiz'));\r\n  }, [dispatch, hash, queryString]);\r\n\r\n  return (\r\n    <Div>\r\n      <Group>\r\n        <CardGrid>\r\n          <Card\r\n            size=\"l\"\r\n            mode=\"shadow\"\r\n            className={css({ backgroundColor: dark ? '#28292D' : '#E2E0FF' })}\r\n          >\r\n            <div\r\n              className={css({\r\n                height: 256,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                color: dark ? undefined : '#827EB9',\r\n              })}\r\n            >\r\n              <Div className={css({ paddingTop: '24px', paddingBottom: '8px' })}>\r\n                <Twemoji emoji={Emoji.NoEvil} size={50} />\r\n              </Div>\r\n              <Div>\r\n                <Title weight=\"bold\" level=\"1\">\r\n                  Пройдите тест\r\n                </Title>\r\n              </Div>\r\n              <Div className={css({ paddingTop: 0 })}>\r\n                <Text weight=\"medium\">Это займёт минуту.</Text>\r\n              </Div>\r\n              <Div className={css({ marginTop: 'auto' })}>\r\n                <Button\r\n                  mode=\"secondary\"\r\n                  size=\"xl\"\r\n                  className={css({\r\n                    width: '100%',\r\n                    color: dark ? undefined : '#827EB9',\r\n                  })}\r\n                  onClick={goToQuiz}\r\n                >\r\n                  Пройти тест\r\n                </Button>\r\n              </Div>\r\n            </div>\r\n          </Card>\r\n        </CardGrid>\r\n      </Group>\r\n      <Group header={<Header>Сатистика</Header>}>\r\n        <Placeholder\r\n          icon={\r\n            <Icon28StatisticsOutline\r\n              className={css({\r\n                width: '50px !important',\r\n                height: '50px !important',\r\n                '>svg': { width: 50, height: 50 },\r\n              } as any)}\r\n            />\r\n          }\r\n          className={css({ height: 204 })}\r\n        >\r\n          Здесь будут результаты, а пока что эта иконка\r\n        </Placeholder>\r\n      </Group>\r\n    </Div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { HomeLayout } from 'modules/home';\r\n\r\nexport const Home = React.memo(() => {\r\n  return (\r\n    <>\r\n      <PanelHeader separator={false}>Главная</PanelHeader>\r\n      <HomeLayout />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\ntype Props = {\r\n  className: string;\r\n};\r\n\r\nexport const AppIcon = React.memo<Props>(({ className }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"64\"\r\n        height=\"64\"\r\n        viewBox=\"0 0 64 64\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n      >\r\n        <g clipPath=\"url(#clip0)\">\r\n          <rect width=\"64\" height=\"64\" rx=\"16\" fill=\"#A8A1FE\" />\r\n          <g filter=\"url(#filter0_d)\">\r\n            <path\r\n              d=\"M31.904 46.912C23.6153 46.912 16.896 40.1927 16.896 31.904C16.896 23.6153 23.6153 16.896 31.904 16.896C40.1927 16.896 46.912 23.6153 46.912 31.904C46.912 40.1927 40.1927 46.912 31.904 46.912ZM31.904 43.696C38.4175 43.696 43.696 38.4175 43.696 31.904C43.696 25.3905 38.4175 20.112 31.904 20.112C25.3905 20.112 20.112 25.3905 20.112 31.904C20.112 38.4175 25.3905 43.696 31.904 43.696ZM27.6074 31.7711L30.0087 33.8872L36.0205 26.5933C36.5886 25.9072 37.6027 25.8107 38.2867 26.3746C38.9728 26.9428 39.0692 27.9569 38.5054 28.6408L31.8504 36.7023C31.829 36.7323 31.829 36.7323 31.8011 36.7623C30.9799 37.6928 29.5563 37.7828 28.6237 36.9595L25.4827 34.1809C24.8181 33.5935 24.7538 32.5772 25.3412 31.9126C25.9287 31.2479 26.9449 31.1836 27.6096 31.7711H27.6074Z\"\r\n              fill=\"white\"\r\n            />\r\n          </g>\r\n        </g>\r\n        <defs>\r\n          <filter\r\n            id=\"filter0_d\"\r\n            x=\"-26.104\"\r\n            y=\"-26.104\"\r\n            width=\"116.016\"\r\n            height=\"116.016\"\r\n            filterUnits=\"userSpaceOnUse\"\r\n            colorInterpolationFilters=\"sRGB\"\r\n          >\r\n            <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\r\n            <feColorMatrix\r\n              in=\"SourceAlpha\"\r\n              type=\"matrix\"\r\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\r\n            />\r\n            <feOffset />\r\n            <feGaussianBlur stdDeviation=\"21.5\" />\r\n            <feColorMatrix\r\n              type=\"matrix\"\r\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"\r\n            />\r\n            <feBlend\r\n              mode=\"normal\"\r\n              in2=\"BackgroundImageFix\"\r\n              result=\"effect1_dropShadow\"\r\n            />\r\n            <feBlend\r\n              mode=\"normal\"\r\n              in=\"SourceGraphic\"\r\n              in2=\"effect1_dropShadow\"\r\n              result=\"shape\"\r\n            />\r\n          </filter>\r\n          <clipPath id=\"clip0\">\r\n            <rect width=\"64\" height=\"64\" rx=\"16\" fill=\"white\" />\r\n          </clipPath>\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport {\r\n  Div,\r\n  Group,\r\n  Title,\r\n  Text,\r\n  List,\r\n  SimpleCell,\r\n  Switch,\r\n  CellButton,\r\n  Subhead,\r\n} from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport Icon28MessageAddBadgeOutline from '@vkontakte/icons/dist/28/message_add_badge_outline';\r\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\r\nimport Icon28ClearDataOutline from '@vkontakte/icons/dist/28/clear_data_outline';\r\nimport { AppIcon } from 'assets/svg/AppIcon';\r\nimport { useDispatch } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\n\r\nexport const SettingsLayout = React.memo(() => {\r\n  const [toggled, setToggle] = React.useState(true);\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const handleToggle = React.useCallback(\r\n    (\r\n      e:\r\n        | React.MouseEvent<HTMLElement, MouseEvent>\r\n        | React.ChangeEvent<HTMLInputElement>\r\n    ) => {\r\n      e.preventDefault();\r\n      setToggle(!toggled);\r\n    },\r\n    [toggled]\r\n  );\r\n\r\n  const showCleanTest = React.useCallback(() => {\r\n    dispatch({ type: 'SET_SETTINGS_MODAL', payload: 'clean_test' });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Div>\r\n      <Group className={css({ textAlign: 'center' })}>\r\n        <Div>\r\n          <AppIcon className=\"\" />\r\n        </Div>\r\n        <Title weight=\"bold\" level=\"1\" className={css({ marginBottom: '.5rem' })}>\r\n          Тест на дружбу\r\n        </Title>\r\n        <Text weight=\"medium\">Версия 666</Text>\r\n      </Group>\r\n      <Group>\r\n        <List>\r\n          <SimpleCell\r\n            disabled\r\n            after={<Switch onChange={handleToggle} checked={toggled} />}\r\n            onClick={handleToggle}\r\n          >\r\n            Уведомления\r\n          </SimpleCell>\r\n          <Div>\r\n            <Subhead\r\n              weight=\"regular\"\r\n              className={css({ color: 'var(--text_secondary)', margin: 0 })}\r\n            >\r\n              Мы будем сообщать о новых прохождениях твоего теста\r\n            </Subhead>\r\n          </Div>\r\n          {/* TODO: actions */}\r\n          <CellButton before={<Icon28MessageAddBadgeOutline />}>\r\n            Связаться с разработчиками\r\n          </CellButton>\r\n          <CellButton before={<Icon28MoneyCircleOutline />}>\r\n            Помочь проекту\r\n          </CellButton>\r\n          <CellButton\r\n            mode=\"danger\"\r\n            before={<Icon28ClearDataOutline />}\r\n            onClick={showCleanTest}\r\n          >\r\n            Перепройти тест\r\n          </CellButton>\r\n        </List>\r\n      </Group>\r\n    </Div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { SettingsLayout } from 'modules/settings';\r\n\r\nexport const Settings = React.memo(() => {\r\n  return (\r\n    <>\r\n      <PanelHeader separator={false}>Настройки</PanelHeader>\r\n      <SettingsLayout />\r\n    </>\r\n  );\r\n});\r\n","import { createSelector, createStructuredSelector } from 'reselect';\r\nimport { getStateUi } from './common';\r\nimport { getLocationPathes } from './router';\r\nimport { FriendsView } from 'core/models';\r\n\r\nexport const getFriendsState = createSelector(getStateUi, (ui) => ui.friends);\r\n\r\nexport const getFriendsCompletedTest = createSelector(getFriendsState, (state) =>\r\n  state.list.filter((f) => f.completeTest)\r\n);\r\nexport const getFriendsNotCompletedTest = createSelector(getFriendsState, (state) =>\r\n  state.list.filter((f) => !f.completeTest)\r\n);\r\n\r\nexport const getFriends = createStructuredSelector({\r\n  friendsCompleted: getFriendsCompletedTest,\r\n  friendsNotCompleted: getFriendsNotCompletedTest,\r\n});\r\n\r\nexport const getSelectedFriend = createSelector(\r\n  getFriendsState,\r\n  (state) => state.selected\r\n);\r\n\r\nexport const getFriendsActiveView = createSelector(\r\n  getLocationPathes,\r\n  ({ main, sub }) =>\r\n    main === FriendsView.List && !sub\r\n      ? FriendsView.List\r\n      : main === FriendsView.List && sub === FriendsView.SelectedFriend\r\n      ? FriendsView.SelectedFriend\r\n      : FriendsView.List\r\n);\r\n","import React from 'react';\r\nimport { Group, List, Cell, Avatar, Text, Div } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getFriends } from 'core/selectors/friends';\r\nimport { FriendItem, FriendsView } from 'core/models';\r\nimport { push } from 'connected-react-router';\r\n\r\nexport const FriendsList = React.memo<{ goForward: (view: FriendsView) => void }>(\r\n  ({ goForward }) => {\r\n    const { friendsCompleted, friendsNotCompleted } = useSelector(getFriends);\r\n    const dispatch = useDispatch();\r\n\r\n    const openFriendStat = React.useCallback((friend: FriendItem) => {\r\n      goForward(FriendsView.SelectedFriend);\r\n      dispatch({\r\n        type: 'SELECT_FRIEND',\r\n        payload: {\r\n          avatar: friend.avatar,\r\n          name: friend.name,\r\n          userId: friend.userId,\r\n        },\r\n      });\r\n      dispatch(push('/friends/friend'));\r\n    }, []);\r\n\r\n    const completedCells = friendsCompleted.map((friend) => (\r\n      <Cell\r\n        key={friend.userId}\r\n        expandable\r\n        onClick={() => openFriendStat(friend)}\r\n        before={<Avatar size={40} src={friend.avatar} />}\r\n      >\r\n        {friend.name}\r\n      </Cell>\r\n    ));\r\n    const notCompletedCells = friendsNotCompleted.map((friend) => (\r\n      <Cell key={friend.userId} before={<Avatar size={40} src={friend.avatar} />}>\r\n        {friend.name}\r\n      </Cell>\r\n    ));\r\n\r\n    return (\r\n      <Div>\r\n        <Group separator=\"hide\">\r\n          <List>\r\n            <Cell multiline>\r\n              <Text weight=\"medium\">Друзья, прошедшие тест</Text>\r\n            </Cell>\r\n            {completedCells}\r\n          </List>\r\n        </Group>\r\n        <Group separator=\"hide\">\r\n          <List>\r\n            <Cell multiline>\r\n              <Text weight=\"medium\">Друзья, не прошедшие тест</Text>\r\n            </Cell>\r\n            {notCompletedCells}\r\n          </List>\r\n        </Group>\r\n      </Div>\r\n    );\r\n  }\r\n);\r\n","import React from 'react';\r\nimport { Group, Div, Avatar, Title, Button, CardGrid, Card } from '@vkontakte/vkui';\r\nimport { useSelector } from 'react-redux';\r\nimport { getSelectedFriend } from 'core/selectors/friends';\r\nimport { useFela } from 'react-fela';\r\nimport Icon24LogoInstagram from '@vkontakte/icons/dist/24/logo_instagram';\r\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\n\r\nexport const SelectedFriend = React.memo(() => {\r\n  const selectedFriend = useSelector(getSelectedFriend);\r\n  const { css } = useFela();\r\n  if (!selectedFriend) {\r\n    // TODO: no data or wait for data\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Div>\r\n      <Group separator=\"hide\" className={css({ textAlign: 'center' })}>\r\n        <Div\r\n          className={css({\r\n            display: 'flex',\r\n            width: 56,\r\n            margin: 'auto',\r\n            marginTop: '2rem !important',\r\n          })}\r\n        >\r\n          <Avatar size={56} src={selectedFriend.avatar} />\r\n        </Div>\r\n        <Title weight=\"medium\" level=\"2\" className={css({ margin: '.5rem 0' })}>\r\n          {selectedFriend.name}\r\n        </Title>\r\n        <Div className={css({ display: 'flex' })}>\r\n          <Button\r\n            className={css({\r\n              width: '100%',\r\n              marginRight: '.75rem',\r\n              borderRadius: '38px',\r\n            })}\r\n            mode=\"secondary\"\r\n            before={<Icon24LogoInstagram />}\r\n            size=\"l\"\r\n          >\r\n            Рассказать в истории\r\n          </Button>\r\n          <Button\r\n            mode=\"secondary\"\r\n            size=\"l\"\r\n            className={css({ borderRadius: '38px', padding: '0 .5rem' })}\r\n          >\r\n            <Icon24ShareOutline />\r\n          </Button>\r\n        </Div>\r\n      </Group>\r\n      <Group separator=\"hide\">\r\n        <CardGrid className={css({ marginTop: '0 !important' })}>\r\n          <Card size=\"l\">\r\n            <div className={css({ height: '100%', minHeight: 200 })} />\r\n          </Card>\r\n        </CardGrid>\r\n      </Group>\r\n    </Div>\r\n  );\r\n});\r\n","import { useState, useMemo } from 'react';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\n\r\nexport const useViewChange = <T = {}>(\r\n  viewEnum: T,\r\n  defaultKeyView: keyof T,\r\n  withSwipe = false\r\n) => {\r\n  const defaultView = useMemo(() => viewEnum[defaultKeyView], [\r\n    viewEnum,\r\n    defaultKeyView,\r\n  ]);\r\n\r\n  const [viewState, setView] = useState({\r\n    activePanel: defaultView,\r\n    history: [defaultView],\r\n  });\r\n\r\n  const goBack = () => {\r\n    const history = [...viewState.history];\r\n    history.pop();\r\n\r\n    const activePanel = history[history.length - 1];\r\n    if (activePanel === defaultView && withSwipe) {\r\n      vkBridge.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    setView({ history, activePanel });\r\n  };\r\n\r\n  const goForward = (activePanel: T[keyof T]) => {\r\n    const history = [...viewState.history];\r\n    history.push(activePanel);\r\n\r\n    if (viewState.activePanel === defaultView && withSwipe) {\r\n      vkBridge.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    setView({ history, activePanel });\r\n  };\r\n\r\n  return {\r\n    goBack,\r\n    goForward,\r\n    activeView: viewState.activePanel,\r\n    history: viewState.history,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { PanelHeader, View, Panel, PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { FriendsList, SelectedFriend } from 'modules/friends';\r\nimport { FriendsView } from 'core/models';\r\nimport { useViewChange } from 'core/hooks';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getFriendsActiveView } from 'core/selectors/friends';\r\nimport { goBack } from 'connected-react-router';\r\n\r\nexport const Friends = React.memo(() => {\r\n  const dispatch = useDispatch();\r\n  const view = useSelector(getFriendsActiveView);\r\n  const { goBack: friendsBack, goForward, history } = useViewChange(\r\n    FriendsView,\r\n    'List',\r\n    true\r\n  );\r\n\r\n  return (\r\n    <View\r\n      activePanel={view}\r\n      onSwipeBack={() => {\r\n        friendsBack();\r\n        dispatch(goBack());\r\n      }}\r\n      history={history}\r\n    >\r\n      <Panel id={FriendsView.List}>\r\n        <PanelHeader separator={false}>Друзья</PanelHeader>\r\n        <FriendsList goForward={goForward} />\r\n      </Panel>\r\n      <Panel id={FriendsView.SelectedFriend}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack\r\n              onClick={() => {\r\n                friendsBack();\r\n                dispatch(goBack());\r\n              }}\r\n            />\r\n          }\r\n        >\r\n          Профиль\r\n        </PanelHeader>\r\n        <SelectedFriend />\r\n      </Panel>\r\n    </View>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport Icon28ClearDataOutline from '@vkontakte/icons/dist/28/clear_data_outline';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\nimport { ModalCard, Button } from '@vkontakte/vkui';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\nexport const CleanTest = React.memo<{ id: string }>(({ id }) => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const dark = useSelector(isThemeDrak);\r\n\r\n  const closeCleanTest = React.useCallback(() => {\r\n    dispatch({ type: 'SET_SETTINGS_MODAL', payload: null });\r\n  }, [dispatch]);\r\n  return (\r\n    <ModalCard\r\n      id={id}\r\n      onClose={closeCleanTest}\r\n      icon={\r\n        <Icon28ClearDataOutline\r\n          className={css({\r\n            width: '40px !important',\r\n            height: '40px !important',\r\n            '>svg': { width: 40, height: 40 },\r\n            color: 'var(--destructive)',\r\n          } as any)}\r\n        />\r\n      }\r\n      header=\"Точно?\"\r\n      caption=\"Это обнулит всю статистику, а также ссылки на тест.\"\r\n      style={{ border: '1px solid red' }}\r\n    >\r\n      <div\r\n        className={css({\r\n          marginTop: '1.5rem',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n        })}\r\n      >\r\n        <Button\r\n          mode=\"secondary\"\r\n          size=\"xl\"\r\n          className={css({\r\n            marginRight: '1rem',\r\n            color: '#9B9B9B',\r\n            backgroundColor: dark ? 'transparent' : undefined,\r\n          })}\r\n          onClick={closeCleanTest}\r\n        >\r\n          Отмена\r\n        </Button>\r\n        <Button mode=\"destructive\" size=\"xl\">\r\n          Перепройти\r\n        </Button>\r\n      </div>\r\n    </ModalCard>\r\n  );\r\n});\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi } from './common';\r\n\r\nexport const getSettingsActiveModal = createSelector(\r\n  getStateUi,\r\n  (ui) => ui.settings.modal\r\n);\r\n","import React from 'react';\r\nimport { ModalRoot } from '@vkontakte/vkui';\r\nimport { CleanTest } from './CleanTest';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getSettingsActiveModal } from 'core/selectors/settings';\r\nimport { AppDispatchActions } from 'core/models';\r\n\r\nexport const RootModals = React.memo(() => {\r\n  const activeModal = useSelector(getSettingsActiveModal);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  \r\n  const closeModal = React.useCallback(() => {\r\n    dispatch({ type: 'SET_SETTINGS_MODAL', payload: null });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <ModalRoot activeModal={activeModal} onClose={closeModal}>\r\n      <CleanTest id={'clean_test'} />\r\n    </ModalRoot>\r\n  );\r\n});\r\n","import React from 'react';\r\ntype Props = {\r\n  className: string;\r\n};\r\n\r\nexport const WhiteDanceQuiz = React.memo<Props>(({ className }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"139\"\r\n        height=\"188\"\r\n        viewBox=\"0 0 139 188\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n      >\r\n        <g clipPath=\"url(#clip0)\">\r\n          <path\r\n            d=\"M139 44.6758H137.969V16.378C137.969 14.2272 137.546 12.0975 136.725 10.1104C135.904 8.12337 134.7 6.31787 133.182 4.79703C131.665 3.27619 129.863 2.06979 127.88 1.24672C125.897 0.423647 123.772 1.6955e-05 121.626 1.52588e-05H61.7994C59.6531 1.01704e-05 57.5279 0.423636 55.545 1.2467C53.5621 2.06977 51.7604 3.27616 50.2428 4.79699C48.7252 6.31783 47.5213 8.12332 46.7 10.1104C45.8786 12.0975 45.4559 14.2272 45.4559 16.378V171.622C45.4559 175.966 47.1778 180.132 50.2428 183.203C53.3078 186.274 57.4648 188 61.7993 188H121.626C125.96 188 130.117 186.274 133.182 183.203C136.247 180.132 137.969 175.966 137.969 171.622V64.8187H139L139 44.6758Z\"\r\n            fill=\"#646464\"\r\n          />\r\n          <path\r\n            d=\"M122 9H63C58.0294 9 54 13.0294 54 18V170C54 174.971 58.0294 179 63 179H122C126.971 179 131 174.971 131 170V18C131 13.0294 126.971 9 122 9Z\"\r\n            fill=\"#E6E6E6\"\r\n          />\r\n          <path\r\n            d=\"M34.3627 59.9231C37.5361 62.5733 31.1892 70.8184 31.1892 70.8184C31.1892 70.8184 46.2631 71.4074 45.0731 71.4074C43.883 71.4074 42.8913 58.8924 42.8913 58.8924C42.8913 58.8924 31.1892 57.2729 34.3627 59.9231Z\"\r\n            fill=\"#FFB8B8\"\r\n          />\r\n          <path\r\n            d=\"M28.2339 93.4612L41.896 98.3693L49.3715 101.469C49.3715 101.469 54.2693 114.902 56.5892 120.843C58.9092 126.785 51.4337 136.342 51.4337 136.342C51.4337 136.342 52.2071 139.184 51.4337 140.476C51.034 141.135 50.6891 141.826 50.4026 142.542C50.1448 143.059 47.3093 142.8 44.216 142.542C41.1227 142.284 43.9582 137.376 43.9582 137.376C43.9582 137.376 46.536 127.043 46.7938 126.785C47.0345 126.543 47.7249 124.725 46.9752 124.065C46.2775 123.486 45.7042 122.772 45.2902 121.965C44.9433 121.269 44.4944 120.63 43.9582 120.068C43.9582 120.068 35.7881 107.994 31.7532 105.248C27.7183 102.502 18.3489 105.765 18.3489 105.765C18.3489 105.765 22.8206 112.577 22.8206 114.127C22.8206 115.677 23.0784 116.452 23.8517 116.968C24.625 117.485 24.3673 118.518 24.3673 119.552C24.3673 120.585 25.1406 122.651 26.4295 123.685C27.7183 124.718 27.9761 125.751 27.7183 127.818C27.4606 129.884 20.5006 128.851 20.5006 128.851L17.1495 122.393C17.1495 122.393 11.994 114.127 8.64293 105.344C6.96739 100.953 8.70737 97.9818 10.8662 96.109C12.9464 94.3409 15.6233 93.4383 18.347 93.5867L30.4644 94.1405L21.7895 91.653L28.2339 93.4612Z\"\r\n            fill=\"#E8C1C1\"\r\n          />\r\n          <path\r\n            d=\"M73.3447 70.4707L88.038 63.7544C88.038 63.7544 93.1935 54.9715 90.1002 53.9382C87.0068 52.9049 84.4291 61.6878 84.4291 61.6878L73.8603 63.7544L73.3447 70.4707Z\"\r\n            fill=\"#FFB8B8\"\r\n          />\r\n          <path\r\n            d=\"M15.0873 75.1205C15.0873 75.1205 7.61183 81.8368 7.35406 82.6118C7.09628 83.3867 2.45632 85.4533 0.394111 81.8368C-1.6681 78.2203 5.03407 78.4786 5.03407 78.4786L9.67404 72.5373L15.0873 75.1205Z\"\r\n            fill=\"#FFB8B8\"\r\n          />\r\n          <path\r\n            d=\"M7.52228 71.15L15.5133 77.0914L28.6599 72.4416C26.2164 80.1081 28.1308 88.2274 20.1048 92.9302L50.5223 103.263C47.8302 92.401 52.0818 83.409 55.7263 72.4416C61.4992 69.4603 68.7399 70.1655 76.6062 72.4416V61.8504L44.642 63.6587L39.6958 66.3232L33.8154 64.692C25.3032 63.3091 14.6682 66.3313 7.52228 71.15Z\"\r\n            fill=\"#6C63FF\"\r\n          />\r\n          <path\r\n            d=\"M27.2028 127.56C27.9761 128.076 29.265 132.984 29.5228 134.793C29.7805 136.601 27.4606 137.376 26.1717 137.634C24.8828 137.892 25.1406 138.667 24.3672 139.442C23.5939 140.217 20.7584 140.476 16.8917 139.701C13.0251 138.926 18.6962 134.018 19.2117 133.759C19.7273 133.501 21.2739 127.56 21.2739 127.56C21.2739 127.56 26.4295 127.043 27.2028 127.56Z\"\r\n            fill=\"#7C5D4C\"\r\n          />\r\n          <path\r\n            d=\"M48.5982 141.767L50.6604 147.192L52.6103 150.123C53.1412 150.904 53.4993 151.791 53.6608 152.722C53.8222 153.654 53.7832 154.609 53.5464 155.524C53.218 156.735 52.5373 157.88 51.176 158.3C47.8249 159.333 45.7627 152.875 45.7627 152.875C45.7627 152.875 43.9583 149.258 42.6694 145.9C41.3805 142.542 43.7005 140.734 43.7005 140.734L48.5982 141.767Z\"\r\n            fill=\"#7C5D4C\"\r\n          />\r\n          <path\r\n            d=\"M38.7116 63.2002C42.1277 63.2002 44.8971 60.425 44.8971 57.0016C44.8971 53.5782 42.1277 50.8029 38.7116 50.8029C35.2954 50.8029 32.526 53.5782 32.526 57.0016C32.526 60.425 35.2954 63.2002 38.7116 63.2002Z\"\r\n            fill=\"#FFB8B8\"\r\n          />\r\n          <path\r\n            d=\"M45.7235 55.4697C45.9966 54.6879 46.1022 53.8571 46.0334 53.0316C45.9647 52.2061 45.7231 51.4044 45.3245 50.6787C44.5299 49.2666 42.9998 47.9429 40.0581 47.8683C33.6399 47.7054 30.8587 52.5548 31.2203 53.9769C31.5819 55.3989 32.8757 58.7823 32.8757 58.7823C32.8757 58.7823 32.0734 55.5244 33.6779 55.1986C35.2825 54.8728 41.5001 53.5696 43.3052 55.0357C43.82 55.4307 44.2211 55.9554 44.4678 56.5563C44.7144 57.1572 44.7977 57.8129 44.7092 58.4565L45.7235 55.4697Z\"\r\n            fill=\"#2F2E41\"\r\n          />\r\n        </g>\r\n        <defs>\r\n          <clipPath id=\"clip0\">\r\n            <rect width=\"139\" height=\"188\" fill=\"white\" />\r\n          </clipPath>\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Div, Title, Text, Button, Group } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { QuizView } from 'core/models';\r\nimport { WhiteDanceQuiz } from 'assets/svg/WhiteDanceQuiz';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\nimport { replace, getSearch } from 'connected-react-router';\r\n\r\nexport const QuizPreview = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const queryString = useSelector(getSearch);\r\n  const dispatch = useDispatch();\r\n\r\n  const goToRootMain = React.useCallback(() => {\r\n    dispatch(replace('/home' + queryString));\r\n  }, [dispatch, queryString]);\r\n\r\n  const goToQuizStart = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'CHANGE_QUIZ_VIEW',\r\n      payload: { view: QuizView.Start, history: 'forward' },\r\n    });\r\n    vkBridge.send('VKWebAppEnableSwipeBack');\r\n  }, [dispatch]);\r\n  return (\r\n    <>\r\n      <Group separator=\"hide\" className={css({ height: '48vh' })}>\r\n        <Div\r\n          className={css({\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: '100%',\r\n          })}\r\n        >\r\n          <WhiteDanceQuiz\r\n            className={css({\r\n              display: 'flex',\r\n              marginTop: 'auto',\r\n              marginBottom: '2.5rem',\r\n              alignSelf: 'center',\r\n            })}\r\n          />\r\n        </Div>\r\n      </Group>\r\n      <Group\r\n        separator=\"hide\"\r\n        className={css({ textAlign: 'center', padding: '0 1.5rem', height: 140 })}\r\n      >\r\n        <Div>\r\n          <Title weight=\"bold\" level=\"1\">\r\n            Хей!\r\n          </Title>\r\n        </Div>\r\n        <Div className={css({ marginBottom: '1.5rem' })}>\r\n          <Text weight=\"medium\">\r\n            Ты здесь, потому что хочешь доказать свою крепкую дружбу с Ильёй, не\r\n            правда ли? Давай приступим!\r\n          </Text>\r\n        </Div>\r\n      </Group>\r\n      <Group separator=\"hide\" className={css({ padding: '0 1.5rem' })}>\r\n        <Div>\r\n          <Button\r\n            size=\"xl\"\r\n            mode=\"secondary\"\r\n            onClick={goToQuizStart}\r\n            className={css({\r\n              backgroundColor: dark ? undefined : '#EDECFF',\r\n              color: '#8881FF',\r\n            })}\r\n          >\r\n            Да!\r\n          </Button>\r\n        </Div>\r\n        <Div>\r\n          <Button\r\n            size=\"xl\"\r\n            mode=\"tertiary\"\r\n            onClick={goToRootMain}\r\n            className={css({ color: dark ? '#595959' : '#D4D1FF' })}\r\n          >\r\n            Выйти на главную\r\n          </Button>\r\n        </Div>\r\n      </Group>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\ntype Props = {\r\n  className: string;\r\n}\r\n\r\nexport const NightQuiz = React.memo<Props>(({ className }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"548\"\r\n        height=\"171\"\r\n        viewBox=\"0 0 375 171\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n      >\r\n        <path\r\n          d=\"M187 0C36.9378 0 -84.8419 76.4347 -86 171H460C458.842 76.4347 337.062 0 187 0Z\"\r\n          fill=\"#57556B\"\r\n        />\r\n        <path\r\n          d=\"M181.318 74.4698C181.917 74.4698 182.403 73.9847 182.403 73.3863C182.403 72.7879 181.917 72.3028 181.318 72.3028C180.719 72.3028 180.233 72.7879 180.233 73.3863C180.233 73.9847 180.719 74.4698 181.318 74.4698Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M147.253 109.575C147.493 109.575 147.687 109.381 147.687 109.142C147.687 108.902 147.493 108.708 147.253 108.708C147.014 108.708 146.819 108.902 146.819 109.142C146.819 109.381 147.014 109.575 147.253 109.575Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M211.26 129.945C211.5 129.945 211.694 129.751 211.694 129.512C211.694 129.272 211.5 129.078 211.26 129.078C211.021 129.078 210.826 129.272 210.826 129.512C210.826 129.751 211.021 129.945 211.26 129.945Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M98.2173 124.527C98.457 124.527 98.6513 124.333 98.6513 124.094C98.6513 123.855 98.457 123.661 98.2173 123.661C97.9777 123.661 97.7834 123.855 97.7834 124.094C97.7834 124.333 97.9777 124.527 98.2173 124.527Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M267.457 109.142C267.696 109.142 267.89 108.948 267.89 108.708C267.89 108.469 267.696 108.275 267.457 108.275C267.217 108.275 267.023 108.469 267.023 108.708C267.023 108.948 267.217 109.142 267.457 109.142Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M128.16 113.692C128.399 113.692 128.594 113.498 128.594 113.259C128.594 113.02 128.399 112.826 128.16 112.826C127.92 112.826 127.726 113.02 127.726 113.259C127.726 113.498 127.92 113.692 128.16 113.692Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M199.327 105.024C199.567 105.024 199.761 104.83 199.761 104.591C199.761 104.352 199.567 104.158 199.327 104.158C199.087 104.158 198.893 104.352 198.893 104.591C198.893 104.83 199.087 105.024 199.327 105.024Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M213.647 73.8197C213.887 73.8197 214.081 73.6256 214.081 73.3863C214.081 73.1469 213.887 72.9529 213.647 72.9529C213.407 72.9529 213.213 73.1469 213.213 73.3863C213.213 73.6256 213.407 73.8197 213.647 73.8197Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path d=\"M123.386 124.527H122.952V124.744H123.386V124.527Z\" fill=\"#F2F2F2\" />\r\n        <path d=\"M136.188 91.3723H135.754V91.589H136.188V91.3723Z\" fill=\"#F2F2F2\" />\r\n        <path d=\"M167.432 116.076H166.998V116.293H167.432V116.076Z\" fill=\"#F2F2F2\" />\r\n        <path d=\"M250.316 125.611H249.882V125.828H250.316V125.611Z\" fill=\"#F2F2F2\" />\r\n        <path d=\"M224.496 92.4558H224.062V92.6725H224.496V92.4558Z\" fill=\"#F2F2F2\" />\r\n        <path d=\"M126.602 140.809H125.838V170.931H126.602V140.809Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M133.649 135.547C133.697 146.08 126.277 154.653 126.277 154.653C126.277 154.653 118.779 146.148 118.73 135.615C118.682 125.082 126.101 116.51 126.101 116.51C126.101 116.51 133.6 125.014 133.649 135.547Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M117.177 131.88H116.188V170.931H117.177V131.88Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M126.313 127.755C126.376 141.41 116.757 152.525 116.757 152.525C116.757 152.525 107.035 141.499 106.972 127.844C106.909 114.189 116.528 103.074 116.528 103.074C116.528 103.074 126.25 114.1 126.313 127.755Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M232.268 140.809H231.504V170.931H232.268V140.809Z\" fill=\"#6C63FF\" />\r\n        <path\r\n          d=\"M239.315 144.648C239.363 155.181 231.943 163.754 231.943 163.754C231.943 163.754 224.445 155.25 224.396 144.717C224.348 134.184 231.767 125.611 231.767 125.611C231.767 125.611 239.266 134.115 239.315 144.648Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M108.376 140.809H107.613V170.931H108.376V140.809Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M115.423 135.547C115.471 146.08 108.052 154.653 108.052 154.653C108.052 154.653 100.553 146.148 100.504 135.615C100.456 125.082 107.876 116.51 107.876 116.51C107.876 116.51 115.374 125.014 115.423 135.547Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M175.638 140.809H174.874V170.931H175.638V140.809Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M182.685 135.547C182.733 146.08 175.313 154.653 175.313 154.653C175.313 154.653 167.815 146.148 167.766 135.615C167.718 125.082 175.137 116.51 175.137 116.51C175.137 116.51 182.636 125.014 182.685 135.547Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M166.213 131.88H165.223V170.931H166.213V131.88Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M175.349 127.755C175.412 141.41 165.793 152.525 165.793 152.525C165.793 152.525 156.071 141.499 156.008 127.844C155.945 114.189 165.564 103.074 165.564 103.074C165.564 103.074 175.286 114.1 175.349 127.755Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path d=\"M157.412 140.809H156.649V170.931H157.412V140.809Z\" fill=\"#3F3D56\" />\r\n        <path\r\n          d=\"M164.459 135.547C164.507 146.08 157.088 154.653 157.088 154.653C157.088 154.653 149.589 146.148 149.54 135.615C149.492 125.082 156.912 116.51 156.912 116.51C156.912 116.51 164.41 125.014 164.459 135.547Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M237.205 154.837L224.446 143.12C224.412 143.647 224.394 144.179 224.396 144.717C224.445 155.25 231.943 163.754 231.943 163.754C234.127 161.056 235.899 158.052 237.205 154.837Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <path\r\n          d=\"M142.232 168.244C142.669 169.858 144.166 170.858 144.166 170.858C144.166 170.858 144.955 169.241 144.518 167.627C144.08 166.013 142.583 165.013 142.583 165.013C142.583 165.013 141.795 166.63 142.232 168.244Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M142.874 167.898C144.074 169.064 144.22 170.857 144.22 170.857C144.22 170.857 142.422 170.758 141.222 169.592C140.023 168.426 139.876 166.633 139.876 166.633C139.876 166.633 141.675 166.731 142.874 167.898Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M203.852 168.244C204.289 169.858 205.787 170.858 205.787 170.858C205.787 170.858 206.575 169.241 206.138 167.627C205.701 166.013 204.204 165.013 204.204 165.013C204.204 165.013 203.415 166.63 203.852 168.244Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <path\r\n          d=\"M204.495 167.898C205.694 169.064 205.841 170.857 205.841 170.857C205.841 170.857 204.042 170.758 202.843 169.592C201.643 168.426 201.497 166.633 201.497 166.633C201.497 166.633 203.295 166.731 204.495 167.898Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <path\r\n          d=\"M93.6297 168.244C94.0668 169.858 95.5642 170.858 95.5642 170.858C95.5642 170.858 96.3527 169.241 95.9156 167.627C95.4784 166.013 93.9811 165.013 93.9811 165.013C93.9811 165.013 93.1925 166.63 93.6297 168.244Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M94.272 167.898C95.4715 169.064 95.618 170.857 95.618 170.857C95.618 170.857 93.8197 170.758 92.6202 169.592C91.4206 168.426 91.2741 166.633 91.2741 166.633C91.2741 166.633 93.0724 166.731 94.272 167.898Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M161.041 109.827L181.981 141.392C182.449 139.479 182.685 137.516 182.685 135.547C182.661 130.41 180.866 125.757 179.032 122.337L178.063 122.577L178.975 122.23C177.895 120.197 176.609 118.28 175.137 116.51C175.137 116.51 174.603 117.127 173.823 118.233C171.071 109.321 165.564 103.074 165.564 103.074C163.846 105.177 162.331 107.438 161.041 109.827Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <path\r\n          opacity=\"0.1\"\r\n          d=\"M281.523 169.654C281.688 169.654 281.847 169.588 281.964 169.471C282.081 169.354 282.147 169.196 282.147 169.03C282.147 168.865 282.081 168.707 281.964 168.59C281.847 168.473 281.688 168.407 281.523 168.407H276.389C276.555 168.738 276.582 169.121 276.465 169.471C276.348 169.822 276.096 170.112 275.765 170.278C275.765 170.443 275.831 170.602 275.948 170.719C276.065 170.835 276.224 170.901 276.389 170.901H281.523C281.688 170.901 281.847 170.835 281.964 170.719C282.081 170.602 282.147 170.443 282.147 170.278C282.147 170.112 282.081 169.954 281.964 169.837C281.847 169.72 281.688 169.654 281.523 169.654Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M269.322 168.367C269.409 171.768 267.35 170.901 264.853 170.901C262.356 170.901 260.296 171.335 260.28 168.367C260.271 166.906 262.319 166.588 264.815 166.588C267.312 166.588 269.284 166.907 269.322 168.367Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M275.163 169.711C275.123 169.69 275.079 169.676 275.034 169.67C274.807 169.634 274.583 169.586 274.361 169.526C274.139 169.466 273.934 169.352 273.766 169.195C273.703 169.122 273.633 169.054 273.556 168.995C273.517 168.966 273.471 168.948 273.422 168.945C273.374 168.941 273.325 168.952 273.283 168.975C273.274 168.982 273.266 168.99 273.259 168.998C273.228 168.978 273.197 168.957 273.166 168.937C273 168.828 272.834 168.721 272.668 168.615L272.661 168.61C272.666 168.584 272.666 168.557 272.661 168.531C272.632 168.445 272.573 168.372 272.495 168.325C272.71 168.323 272.927 168.304 273.141 168.281C273.345 168.284 273.542 168.208 273.689 168.067C273.711 168.043 273.725 168.011 273.727 167.979C273.727 167.911 273.658 167.867 273.595 167.842C273.512 167.808 273.426 167.782 273.338 167.766C273.276 167.757 273.215 167.744 273.155 167.728C273.102 167.708 273.051 167.684 273.002 167.655C272.896 167.597 272.79 167.539 272.683 167.48C272.638 167.458 272.597 167.43 272.56 167.395C272.506 167.338 272.482 167.257 272.427 167.201C272.377 167.149 272.172 167.081 272.142 167.187C272.131 167.229 272.175 167.275 272.18 167.322C272.109 167.278 272.036 167.237 271.96 167.201C271.964 167.192 271.97 167.184 271.973 167.174C271.621 166.892 271.342 166.531 271.157 166.119C271.189 166.12 271.221 166.122 271.252 166.122C271.306 166.127 271.36 166.113 271.405 166.084C271.424 166.067 271.438 166.046 271.448 166.023C271.457 165.999 271.461 165.974 271.459 165.949C271.455 165.899 271.443 165.849 271.422 165.803C271.377 165.664 271.306 165.536 271.211 165.425C271.12 165.336 271.015 165.262 270.902 165.205L270.884 165.195C270.876 165.171 270.869 165.148 270.859 165.125C270.791 164.983 270.713 164.845 270.627 164.713C270.506 164.491 270.417 164.253 270.362 164.007C270.342 163.857 270.284 163.714 270.195 163.592C270.029 163.41 269.745 163.414 269.5 163.442C269.36 163.457 269.221 163.478 269.083 163.5C269.081 163.497 269.081 163.493 269.08 163.489C269.062 163.457 269.051 163.421 269.048 163.384C269.051 163.354 269.058 163.324 269.067 163.296C269.075 163.26 269.073 163.223 269.063 163.188C269.052 163.153 269.033 163.121 269.007 163.096C269.001 163.09 268.995 163.084 268.989 163.078C269.005 163.042 269.019 163.006 269.032 162.969C269.043 162.955 269.052 162.94 269.057 162.923C269.062 162.906 269.064 162.888 269.062 162.87C269.087 162.781 269.101 162.69 269.102 162.597C269.073 162.393 269.066 162.187 269.08 161.982C269.073 161.931 269.054 161.882 269.026 161.839C269.02 161.833 269.012 161.829 269.006 161.823C269.048 161.767 269.097 161.717 269.152 161.672C269.259 161.59 269.373 161.518 269.493 161.456C269.522 161.44 269.562 161.429 269.59 161.411C269.632 161.418 269.675 161.422 269.718 161.424C269.877 161.425 270.034 161.387 270.174 161.313C270.315 161.24 270.436 161.133 270.526 161.002C270.616 160.871 270.673 160.72 270.691 160.562C270.709 160.405 270.689 160.245 270.631 160.097C270.675 160.086 270.716 160.067 270.753 160.04C270.789 160.013 270.82 159.979 270.843 159.94C270.891 159.858 270.919 159.765 270.927 159.67C270.934 159.634 270.935 159.596 270.928 159.56C270.921 159.523 270.906 159.488 270.886 159.457C270.849 159.422 270.807 159.392 270.762 159.37C270.698 159.331 270.645 159.277 270.607 159.214C270.579 159.168 270.56 159.119 270.535 159.072C270.494 158.985 270.43 158.912 270.35 158.859C270.27 158.806 270.177 158.776 270.081 158.772C269.99 158.783 269.9 158.801 269.811 158.826C269.508 158.879 269.178 158.718 268.896 158.843C268.826 158.877 268.762 158.92 268.704 158.971C268.625 159.036 268.549 159.105 268.475 159.178C268.412 159.232 268.364 159.302 268.336 159.38C268.298 159.524 268.389 159.684 268.331 159.821C268.311 159.86 268.287 159.897 268.26 159.932C268.196 160.025 268.266 160.391 268.259 160.504C268.25 160.56 268.264 160.616 268.298 160.661C268.306 160.67 268.316 160.677 268.326 160.683C267.854 160.851 267.392 161.047 266.942 161.27C266.403 161.531 265.955 161.949 265.658 162.468C265.581 162.617 265.523 162.774 265.454 162.926C265.362 163.129 265.251 163.322 265.14 163.515C265.004 163.751 264.869 163.987 264.712 164.209C264.622 164.326 264.54 164.449 264.464 164.576C264.462 164.594 264.461 164.613 264.462 164.631C264.465 164.649 264.463 164.667 264.457 164.683C264.45 164.693 264.442 164.701 264.431 164.707C264.421 164.713 264.41 164.716 264.398 164.717L264.394 164.727C264.359 164.841 264.329 164.957 264.306 165.074C264.26 165.26 264.186 165.44 264.158 165.629C264.141 165.653 264.132 165.681 264.131 165.71C264.131 165.739 264.139 165.767 264.154 165.792C264.169 165.816 264.191 165.836 264.218 165.848C264.244 165.86 264.273 165.864 264.302 165.86C264.465 165.932 264.621 166.016 264.777 166.102C264.775 166.113 264.771 166.124 264.77 166.136C264.765 166.256 264.794 166.376 264.854 166.481C264.914 166.586 265.003 166.671 265.109 166.728C265.325 166.838 265.561 166.902 265.802 166.916C265.896 166.927 265.99 166.932 266.084 166.942C266.221 167.018 266.366 167.077 266.517 167.118C266.55 167.127 266.584 167.132 266.619 167.133C266.665 167.13 266.71 167.117 266.75 167.094C266.79 167.072 266.824 167.041 266.851 167.003C267.658 167.047 268.467 167.031 269.271 166.954C269.494 166.902 269.728 166.938 269.924 167.055C270.099 167.196 270.134 167.447 270.263 167.631C270.358 167.744 270.463 167.847 270.579 167.938C270.809 168.181 271.012 168.448 271.185 168.734C271.36 169.022 271.613 169.256 271.915 169.407C271.969 169.32 272.048 169.252 272.142 169.21C272.166 169.195 272.189 169.179 272.212 169.163C272.244 169.215 272.281 169.263 272.323 169.308C272.354 169.341 272.385 169.377 272.414 169.413C272.413 169.413 272.413 169.413 272.412 169.413C272.369 169.419 272.355 169.472 272.35 169.515C272.332 169.677 272.313 169.84 272.295 170.002C272.288 170.034 272.29 170.067 272.301 170.098C272.321 170.132 272.352 170.158 272.389 170.171C272.54 170.243 272.703 170.287 272.87 170.298C272.954 170.304 273.039 170.301 273.123 170.309C273.26 170.326 273.397 170.354 273.531 170.39C273.895 170.473 274.27 170.502 274.643 170.477C274.72 170.475 274.796 170.461 274.869 170.434C274.954 170.393 275.03 170.335 275.091 170.262C275.169 170.188 275.227 170.096 275.259 169.994C275.274 169.943 275.273 169.888 275.256 169.838C275.238 169.787 275.206 169.743 275.163 169.711Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M269.16 158.826C269.197 158.819 269.232 158.809 269.268 158.8C269.153 158.786 269.037 158.797 268.928 158.833C269.005 158.84 269.084 158.838 269.16 158.826Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M269.884 159.072C269.909 159.119 269.928 159.168 269.956 159.214C269.995 159.277 270.048 159.331 270.111 159.37C270.156 159.392 270.198 159.422 270.235 159.457C270.255 159.488 270.27 159.523 270.277 159.56C270.284 159.596 270.283 159.634 270.276 159.67C270.268 159.765 270.24 159.858 270.192 159.94C270.169 159.979 270.138 160.013 270.102 160.04C270.065 160.067 270.024 160.086 269.98 160.097C270.046 160.255 270.07 160.427 270.047 160.597C270.024 160.767 269.955 160.927 269.849 161.062C269.742 161.196 269.602 161.299 269.442 161.361C269.282 161.422 269.108 161.44 268.939 161.411C268.911 161.429 268.871 161.44 268.842 161.456C268.722 161.518 268.608 161.59 268.501 161.672C268.446 161.717 268.398 161.767 268.355 161.823C268.361 161.829 268.37 161.833 268.375 161.839C268.403 161.882 268.422 161.931 268.429 161.982C268.415 162.187 268.422 162.393 268.451 162.597C268.45 162.69 268.436 162.781 268.411 162.87C268.413 162.888 268.411 162.906 268.406 162.923C268.401 162.94 268.392 162.955 268.381 162.969C268.368 163.006 268.354 163.042 268.339 163.078C268.344 163.084 268.35 163.09 268.356 163.096C268.382 163.121 268.401 163.153 268.412 163.188C268.422 163.223 268.424 163.26 268.416 163.296C268.407 163.324 268.4 163.354 268.397 163.384C268.401 163.421 268.411 163.457 268.429 163.489C268.43 163.493 268.43 163.497 268.432 163.5C268.57 163.478 268.71 163.457 268.849 163.442C268.918 163.434 268.987 163.429 269.056 163.428C269.051 163.414 269.048 163.399 269.048 163.384C269.051 163.354 269.058 163.324 269.067 163.296C269.075 163.26 269.073 163.223 269.063 163.188C269.052 163.153 269.033 163.121 269.007 163.096C269.001 163.09 268.995 163.084 268.989 163.078C269.005 163.042 269.019 163.006 269.031 162.969C269.043 162.955 269.052 162.94 269.057 162.923C269.062 162.906 269.064 162.888 269.062 162.87C269.087 162.781 269.101 162.69 269.102 162.597C269.073 162.393 269.066 162.187 269.08 161.982C269.073 161.931 269.054 161.882 269.026 161.839C269.02 161.833 269.012 161.829 269.006 161.823C269.048 161.767 269.097 161.717 269.152 161.672C269.259 161.59 269.373 161.518 269.493 161.456C269.522 161.44 269.562 161.429 269.59 161.411C269.632 161.418 269.675 161.422 269.718 161.424C269.877 161.425 270.033 161.387 270.174 161.313C270.315 161.24 270.436 161.133 270.526 161.002C270.616 160.871 270.673 160.72 270.691 160.562C270.709 160.405 270.688 160.245 270.631 160.097C270.675 160.086 270.716 160.067 270.753 160.04C270.789 160.013 270.82 159.979 270.843 159.94C270.891 159.858 270.919 159.765 270.927 159.67C270.934 159.634 270.935 159.596 270.928 159.56C270.921 159.523 270.906 159.488 270.886 159.457C270.849 159.422 270.807 159.392 270.762 159.37C270.698 159.331 270.645 159.277 270.607 159.214C270.579 159.168 270.56 159.119 270.535 159.072C270.494 158.985 270.43 158.912 270.35 158.859C270.27 158.806 270.177 158.776 270.081 158.772C269.99 158.783 269.9 158.801 269.811 158.826C269.762 158.833 269.711 158.837 269.661 158.835C269.756 158.893 269.833 158.974 269.884 159.072Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M275.163 169.711C275.123 169.69 275.079 169.676 275.034 169.67C274.807 169.634 274.582 169.586 274.361 169.526C274.139 169.466 273.934 169.352 273.766 169.195C273.703 169.122 273.633 169.054 273.556 168.995C273.517 168.966 273.471 168.948 273.422 168.945C273.374 168.941 273.325 168.952 273.283 168.975C273.274 168.982 273.266 168.99 273.259 168.998C273.228 168.978 273.197 168.957 273.166 168.937C273 168.828 272.834 168.721 272.668 168.615L272.661 168.61C272.666 168.584 272.666 168.557 272.661 168.531C272.632 168.445 272.573 168.372 272.495 168.325C272.71 168.323 272.927 168.304 273.141 168.281C273.345 168.284 273.541 168.208 273.689 168.067C273.711 168.043 273.724 168.011 273.727 167.979C273.727 167.911 273.658 167.867 273.595 167.842C273.512 167.808 273.426 167.782 273.338 167.766C273.276 167.757 273.215 167.744 273.155 167.728C273.102 167.708 273.05 167.684 273.002 167.655C272.896 167.597 272.789 167.539 272.683 167.48C272.638 167.458 272.597 167.43 272.56 167.395C272.506 167.338 272.482 167.257 272.427 167.201C272.377 167.149 272.172 167.081 272.142 167.187C272.131 167.229 272.175 167.275 272.18 167.322C272.109 167.278 272.036 167.237 271.96 167.201C271.964 167.192 271.97 167.184 271.973 167.174C271.621 166.892 271.341 166.531 271.157 166.119C271.189 166.12 271.22 166.122 271.252 166.122C271.306 166.127 271.359 166.113 271.405 166.084C271.424 166.067 271.438 166.046 271.448 166.023C271.457 165.999 271.461 165.974 271.459 165.949C271.455 165.899 271.443 165.849 271.422 165.803C271.377 165.664 271.306 165.536 271.211 165.425C271.12 165.336 271.015 165.262 270.902 165.205L270.884 165.195C270.876 165.171 270.869 165.148 270.859 165.125C270.791 164.983 270.713 164.845 270.627 164.713C270.506 164.491 270.417 164.253 270.362 164.007C270.342 163.857 270.284 163.714 270.195 163.592C270.029 163.41 269.745 163.414 269.5 163.442C269.445 163.448 269.391 163.457 269.337 163.465C269.416 163.488 269.487 163.532 269.544 163.592C269.633 163.714 269.691 163.857 269.711 164.007C269.766 164.253 269.855 164.491 269.976 164.713C270.062 164.845 270.14 164.983 270.208 165.125C270.218 165.148 270.225 165.171 270.233 165.195L270.251 165.205C270.365 165.262 270.469 165.336 270.56 165.425C270.655 165.536 270.727 165.664 270.772 165.803C270.792 165.849 270.804 165.899 270.808 165.949C270.81 165.974 270.806 165.999 270.797 166.023C270.787 166.046 270.773 166.067 270.754 166.084C270.709 166.113 270.655 166.127 270.601 166.122C270.57 166.122 270.538 166.12 270.507 166.119C270.691 166.531 270.97 166.892 271.322 167.174C271.319 167.184 271.313 167.192 271.309 167.201C271.385 167.237 271.458 167.278 271.529 167.322C271.524 167.275 271.48 167.229 271.491 167.187C271.521 167.081 271.726 167.149 271.776 167.201C271.832 167.257 271.855 167.338 271.909 167.395C271.946 167.43 271.987 167.458 272.033 167.48C272.139 167.539 272.245 167.597 272.351 167.655C272.4 167.684 272.451 167.708 272.504 167.728C272.564 167.744 272.625 167.757 272.687 167.766C272.775 167.782 272.861 167.808 272.944 167.842C273.007 167.867 273.076 167.911 273.076 167.979C273.074 168.011 273.06 168.043 273.038 168.067C272.891 168.208 272.694 168.284 272.49 168.281C272.276 168.304 272.059 168.323 271.844 168.325C271.922 168.372 271.981 168.445 272.01 168.531C272.015 168.557 272.015 168.584 272.01 168.61L272.017 168.615C272.183 168.721 272.349 168.828 272.515 168.937C272.546 168.957 272.577 168.978 272.608 168.998C272.615 168.99 272.623 168.982 272.632 168.975C272.675 168.952 272.723 168.941 272.771 168.945C272.82 168.948 272.866 168.966 272.905 168.995C272.982 169.054 273.052 169.122 273.115 169.195C273.283 169.352 273.488 169.466 273.71 169.526C273.932 169.586 274.156 169.634 274.383 169.67C274.428 169.676 274.472 169.69 274.512 169.711C274.555 169.743 274.587 169.787 274.605 169.838C274.622 169.888 274.623 169.943 274.608 169.994C274.576 170.096 274.518 170.188 274.441 170.262C274.379 170.335 274.303 170.393 274.218 170.434C274.165 170.454 274.109 170.467 274.053 170.471C274.249 170.488 274.446 170.49 274.643 170.477C274.72 170.475 274.796 170.461 274.869 170.434C274.954 170.393 275.03 170.335 275.091 170.262C275.169 170.188 275.227 170.096 275.259 169.994C275.274 169.943 275.273 169.888 275.256 169.838C275.238 169.787 275.206 169.743 275.163 169.711Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M271.553 169.169C271.564 169.179 271.575 169.189 271.586 169.198C271.578 169.187 271.569 169.175 271.561 169.163L271.553 169.169Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M281.245 167.368C281.245 169.664 280.22 169.03 278.956 169.03C277.692 169.03 276.667 169.664 276.667 167.368C276.667 165.072 278.956 160.716 278.956 160.716C278.956 160.716 281.245 165.072 281.245 167.368Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          opacity=\"0.1\"\r\n          d=\"M279.997 168.246C279.997 169.29 279.531 169.002 278.956 169.002C278.381 169.002 277.916 169.29 277.916 168.246C277.916 167.202 278.956 165.223 278.956 165.223C278.956 165.223 279.997 167.202 279.997 168.246Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          d=\"M281.826 161.233C281.826 161.233 282.301 160.739 282.292 160.255L281.826 161.233Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M276.952 157.117C276.952 157.117 276.753 156.461 276.325 156.233L276.952 157.117Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M272.178 148.233C272.178 148.233 271.98 147.577 271.552 147.348L272.178 148.233Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M277.82 160.151C277.82 160.151 277.621 159.495 277.193 159.266L277.82 160.151Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M277.169 149.533C277.169 149.533 276.97 148.877 276.542 148.648L277.169 149.533Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M275.867 153.433C275.867 153.433 275.668 152.777 275.241 152.549L275.867 153.433Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M281.392 167.951C281.392 167.951 281.867 167.457 281.858 166.972L281.392 167.951Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M282.26 164.267C282.26 164.267 282.735 163.773 282.726 163.288L282.26 164.267Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M276.318 163.647L271.111 165.381L271.179 165.587L276.387 163.853L276.318 163.647Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          d=\"M275.94 163.854C276.135 164.617 275.807 164.435 275.508 164.496C275.209 164.558 275.268 164.834 274.856 164.078C274.572 163.555 274.989 163.497 275.288 163.435C275.587 163.374 275.807 163.333 275.94 163.854Z\"\r\n          fill=\"#FF6584\"\r\n        />\r\n        <path\r\n          opacity=\"0.1\"\r\n          d=\"M201.701 122.233L201.7 122.233L196.966 117.886L196.924 117.896L195.028 116.175L194.937 116.148L195.035 116.111L174.874 97.5975L155.404 79.7178L145.483 84.9737L144.671 85.1531L156.561 103.074L201.557 170.901H254.699L201.701 122.233Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M149.64 87.9052C152.875 87.9052 155.498 85.2856 155.498 82.0543C155.498 78.8229 152.875 76.2034 149.64 76.2034C146.405 76.2034 143.782 78.8229 143.782 82.0543C143.782 85.2856 146.405 87.9052 149.64 87.9052Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Div, Group, Title, Button, Text } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, QuizView } from 'core/models';\r\nimport { NightQuiz } from 'assets/svg/NightQuiz';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\nexport const QuizStart = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const goToQuizProcess = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'CHANGE_QUIZ_VIEW',\r\n      payload: { view: QuizView.Process, history: 'forward' },\r\n    });\r\n  }, [dispatch]);\r\n  return (\r\n    <>\r\n      <div className={css({ height: '43.6vh' })}>\r\n        <div\r\n          className={css({\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: '100%',\r\n            overflow: 'hidden',\r\n          })}\r\n        >\r\n          <NightQuiz\r\n            className={css({\r\n              display: 'flex',\r\n              marginTop: 'auto',\r\n              marginBottom: '2rem',\r\n              alignSelf: 'center',\r\n            })}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Group\r\n        separator=\"hide\"\r\n        className={css({ textAlign: 'center', padding: '0 1.5rem', height: 140 })}\r\n      >\r\n        <Div>\r\n          <Title weight=\"bold\" level=\"1\">\r\n            Один вопрос...\r\n          </Title>\r\n        </Div>\r\n        <Div className={css({ marginBottom: '1.5rem' })}>\r\n          <Text weight=\"medium\">\r\n            Хочешь пройти тест анонимно, или раскрыв свою личность?\r\n          </Text>\r\n        </Div>\r\n      </Group>\r\n      <Group separator=\"hide\" className={css({ padding: '0 1.5rem' })}>\r\n        <Div>\r\n          <Button\r\n            size=\"xl\"\r\n            mode=\"secondary\"\r\n            onClick={goToQuizProcess}\r\n            className={css({\r\n              backgroundColor: dark ? undefined : '#EDECFF',\r\n              color: '#8881FF',\r\n            })}\r\n          >\r\n            Публично\r\n          </Button>\r\n        </Div>\r\n        <Div>\r\n          <Button\r\n            size=\"xl\"\r\n            mode=\"tertiary\"\r\n            onClick={goToQuizProcess}\r\n            className={css({ color: dark ? '#595959' : '#D4D1FF' })}\r\n          >\r\n            Хочу остаться в тайне\r\n          </Button>\r\n        </Div>\r\n      </Group>\r\n    </>\r\n  );\r\n});\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi } from './common';\r\n\r\nexport const getQuizState = createSelector(getStateUi, (ui) => ui.quiz);\r\n\r\nexport const getQuizView = createSelector(getQuizState, (quiz) => quiz.view);\r\n\r\nexport const getQuizActiveStep = createSelector(\r\n  getQuizState,\r\n  (state) => state.activeStep\r\n);\r\n\r\nexport const getQuizQuestionsDict = createSelector(\r\n  getQuizState,\r\n  (state) => state.questions\r\n);\r\nexport const getQuizQuestionsCount = createSelector(\r\n  getQuizQuestionsDict,\r\n  (questions) => Object.values(questions).length\r\n);\r\n\r\nexport const getQuizHistory = createSelector(getQuizState, (quiz) => quiz.history);\r\n","import React from 'react';\r\nimport { Div, Group, Button, Text, Title } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { Question, AppDispatchActions, QuizView } from 'core/models';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getQuizActiveStep } from 'core/selectors/quiz';\r\nimport { Twemoji } from 'modules/emoji/Twemoji';\r\n\r\ntype Props = {\r\n  steps: number;\r\n} & Question;\r\n\r\nexport const QuizItem = React.memo<Props>(\r\n  ({ firstAnswer, secondAnswer, step, steps }) => {\r\n    const { css } = useFela();\r\n    const activeStep = useSelector(getQuizActiveStep);\r\n    const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n    const nextStep = React.useCallback(() => {\r\n      const nextStep = activeStep + 1;\r\n      if (nextStep < steps) {\r\n        dispatch({ type: 'CHANGE_QUIZ_ACTIVE_STEP', payload: nextStep });\r\n      } else {\r\n        dispatch({ type: 'CHANGE_QUIZ_VIEW', payload: { view: QuizView.Finish } });\r\n        // dispatch({ type: 'CHANGE_QUIZ_ACTIVE_STEP', payload: 0 });\r\n      }\r\n    }, [dispatch, activeStep, steps]);\r\n\r\n    return (\r\n      <Div>\r\n        <Group\r\n          separator=\"hide\"\r\n          className={css({\r\n            marginTop: '5rem',\r\n          })}\r\n        >\r\n          <Div\r\n            className={css({\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n            })}\r\n          >\r\n            <span\r\n              className={css({\r\n                marginRight: '4rem',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              })}\r\n            >\r\n              <Button\r\n                mode=\"secondary\"\r\n                size=\"xl\"\r\n                className={css({\r\n                  width: 86,\r\n                  height: 86,\r\n                  borderRadius: '50%',\r\n                })}\r\n                onClick={nextStep}\r\n              >\r\n                <Twemoji emoji={firstAnswer.emoji} size={34} />\r\n              </Button>\r\n              <Text\r\n                weight=\"medium\"\r\n                className={css({ textAlign: 'center', marginTop: '.75rem' })}\r\n              >\r\n                {firstAnswer.text}\r\n              </Text>\r\n            </span>\r\n            <span\r\n              className={css({\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              })}\r\n            >\r\n              <Button\r\n                mode=\"secondary\"\r\n                size=\"xl\"\r\n                className={css({\r\n                  width: 86,\r\n                  height: 86,\r\n                  borderRadius: '50%',\r\n                })}\r\n                onClick={nextStep}\r\n              >\r\n                <Twemoji emoji={secondAnswer.emoji} size={34} />\r\n              </Button>\r\n              <Text\r\n                weight=\"medium\"\r\n                className={css({ textAlign: 'center', marginTop: '.75rem' })}\r\n              >\r\n                {secondAnswer.text}\r\n              </Text>\r\n            </span>\r\n          </Div>\r\n        </Group>\r\n        <Group separator=\"hide\" className={css({ marginTop: '5rem' })}>\r\n          <Div>\r\n            <Title\r\n              level=\"2\"\r\n              weight=\"regular\"\r\n              className={css({ color: '#CBCBCB', textAlign: 'center' })}\r\n            >\r\n              {step + 1}/{steps}\r\n            </Title>\r\n          </Div>\r\n        </Group>\r\n      </Div>\r\n    );\r\n  }\r\n);\r\n","import React from 'react';\r\nimport { useSprings, animated, interpolate } from 'react-spring';\r\nimport { useDrag } from 'react-use-gesture';\r\nimport { useFela } from 'react-fela';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { Twemoji } from 'modules/emoji/Twemoji';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as sel from 'core/selectors/quiz';\r\nimport { AppDispatchActions, QuizView } from 'core/models';\r\n\r\nconst to = (i: number) => ({\r\n  x: 0,\r\n  y: i === 0 ? 0 : 48,\r\n  delay: i * 100,\r\n  visibilty: i === 0 || i === 1 ? 'visible' : 'hidden',\r\n  scale: i === 0 ? 1 : 0.83,\r\n  borderRadius: i === 0 ? 12 : 16.5,\r\n  rotate: 0,\r\n  iconLeftX: 0,\r\n  iconRightX: 0,\r\n});\r\nconst from = (i: number) => ({\r\n  x: 0,\r\n  y: 0,\r\n  visibilty: 'hidden',\r\n  scale: 0.83,\r\n  borderRadius: 12,\r\n  rotate: 0,\r\n  iconLeftX: 0,\r\n  iconRightX: 0,\r\n});\r\n\r\nconst onMountSet = (currStep: number) => {\r\n  const newSet = new Set();\r\n  if (currStep > 0) {\r\n    for (let index = 0; index < currStep; index++) {\r\n      newSet.add(index);\r\n    }\r\n  }\r\n  return newSet;\r\n};\r\n\r\nexport const Slider = React.memo(() => {\r\n  const questionsArray = Object.values(useSelector(sel.getQuizQuestionsDict) ?? {});\r\n  const activeStep = useSelector(sel.getQuizActiveStep);\r\n  const steps = useSelector(sel.getQuizQuestionsCount);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const { css } = useFela();\r\n  const [gone] = React.useState(onMountSet(activeStep));\r\n  const [questions, setQuestions] = React.useState(questionsArray);\r\n\r\n  React.useEffect(() => {\r\n    if (activeStep > 0) {\r\n      setQuestions(questions.slice(activeStep));\r\n    }\r\n  }, []);\r\n\r\n  const nextStep = React.useCallback(() => {\r\n    const nextStep = activeStep + 1;\r\n    if (nextStep < steps) {\r\n      dispatch({ type: 'CHANGE_QUIZ_ACTIVE_STEP', payload: nextStep });\r\n    } else {\r\n      dispatch({ type: 'CHANGE_QUIZ_VIEW', payload: { view: QuizView.Finish } });\r\n    }\r\n  }, [dispatch, activeStep, steps]);\r\n\r\n  const [props, set] = useSprings(questions.length, (i) => ({\r\n    ...to(i),\r\n    from: from(i),\r\n  }));\r\n\r\n  const bind = useDrag(\r\n    ({ args: [index], down, movement: [mx], direction: [xDir], velocity }) => {\r\n      const trigger = velocity > 0.2;\r\n      const dir = xDir < 0 ? -1 : 1;\r\n\r\n      if (!down && trigger) gone.add(index);\r\n      const isGone = gone.has(index);\r\n\r\n      set((i) => {\r\n        const nextNotVisibelItem = index + 1;\r\n        if (nextNotVisibelItem !== i || !isGone) return;\r\n        return {\r\n          x: 0,\r\n          y: 0,\r\n          visibilty: 'visible',\r\n          scale: 1,\r\n          borderRadius: 12,\r\n        };\r\n      });\r\n\r\n      set((i) => {\r\n        const nextNotVisibelItem = index + 2;\r\n        if (nextNotVisibelItem !== i || down || !isGone) return;\r\n        return {\r\n          x: 0,\r\n          visibilty: 'visible',\r\n        };\r\n      });\r\n\r\n      set((i) => {\r\n        if (index !== i) return;\r\n        const x = isGone ? (200 + window.innerWidth) * dir : down ? mx : 0;\r\n        return {\r\n          x,\r\n          y: 0,\r\n          delay: undefined,\r\n          config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 },\r\n          rotate: x > 0 ? 6 : x < 0 ? -6 : 0,\r\n          iconLeftX: !isGone && down && x > 0 ? -35 * 2 : 0,\r\n          iconRightX: !isGone && down && x < 0 ? 35 * 2 : 0,\r\n        };\r\n      });\r\n\r\n      if (isGone) {\r\n        nextStep();\r\n      }\r\n    }\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {props\r\n        .map(\r\n          (\r\n            { x, y, visibilty, scale, borderRadius, rotate, iconLeftX, iconRightX },\r\n            i\r\n          ) => (\r\n            <animated.div\r\n              key={i}\r\n              className={css({\r\n                position: 'absolute',\r\n                width: '100%',\r\n                maxWidth: '303px',\r\n                height: '292px',\r\n              })}\r\n              style={{\r\n                transform: interpolate(\r\n                  [x, y, scale],\r\n                  (x, y, s) => `translate3d(${x}px,${y}px,0) scale(${s})`\r\n                ),\r\n                visibility: interpolate([visibilty], (v) => v),\r\n                borderRadius: interpolate([borderRadius], (rad) => rad),\r\n              }}\r\n            >\r\n              <animated.div\r\n                {...bind(i)}\r\n                style={{\r\n                  visibility: interpolate([visibilty], (v) => v),\r\n                  transform: interpolate([rotate], (r) => `rotate(${r}deg)`),\r\n                  borderRadius: interpolate([borderRadius], (rad) => rad),\r\n                }}\r\n                className={css({\r\n                  background: questions[i]?.backgroundCard\r\n                    ? questions[i].backgroundCard\r\n                    : 'linear-gradient(180deg, #FFB7A0 0%, #FFB7A0 0.01%, #F5A188 100%);',\r\n                  color: '#000',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  width: '100%',\r\n                  maxWidth: '303px',\r\n                  height: '292px',\r\n                  boxShadow: '0px 6.81759px 11.6873px rgba(0, 0, 0, 0.09);',\r\n                  transition: 'ease-in-out',\r\n                  position: 'absolute',\r\n                  zIndex: 1,\r\n                })}\r\n              >\r\n                <Title\r\n                  level=\"2\"\r\n                  weight=\"semibold\"\r\n                  className={css({\r\n                    padding: '1rem',\r\n                    textAlign: 'center',\r\n                    lineHeight: '50px',\r\n                  })}\r\n                >\r\n                  {questions[i]?.question}\r\n                </Title>\r\n              </animated.div>\r\n              <animated.div\r\n                className={css({\r\n                  position: 'absolute',\r\n                  top: 95,\r\n                })}\r\n                style={{\r\n                  transform: interpolate([iconLeftX], (x) => `translateX(${x}px)`),\r\n                }}\r\n              >\r\n                <Twemoji emoji={questions[i]?.firstAnswer.emoji} size={66} />\r\n              </animated.div>\r\n              <animated.div\r\n                className={css({\r\n                  position: 'absolute',\r\n                  top: 95,\r\n                  right: 0,\r\n                })}\r\n                style={{\r\n                  transform: interpolate([iconRightX], (x) => `translateX(${x}px)`),\r\n                }}\r\n              >\r\n                <Twemoji emoji={questions[i]?.secondAnswer.emoji} size={66} />\r\n              </animated.div>\r\n            </animated.div>\r\n          )\r\n        )\r\n        .reverse()}\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Div, PanelHeader, Group, CardGrid, PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { QuizItem } from './QuizItem';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as sel from 'core/selectors/quiz';\r\nimport { Slider } from './Slider';\r\nimport { useFela } from 'react-fela';\r\nimport { getLocationHash } from 'core/selectors/router';\r\nimport { replace } from 'connected-react-router';\r\n\r\nexport const QuizProcess = React.memo(() => {\r\n  const questionsDict = useSelector(sel.getQuizQuestionsDict);\r\n  const count = useSelector(sel.getQuizQuestionsCount);\r\n  const activeStep = useSelector(sel.getQuizActiveStep);\r\n  const { css } = useFela();\r\n  const hash = useSelector(getLocationHash);\r\n  const dispatch = useDispatch();\r\n\r\n  const back = React.useCallback(() => {\r\n    if (!hash || activeStep > 0) {\r\n      // TODO: add epic that would clean history if activeStep > 0\r\n      dispatch(replace('/home'));\r\n    } else {\r\n      dispatch({ type: 'BACK_QUIZ_HISTORY' });\r\n    }\r\n  }, [dispatch, activeStep, hash]);\r\n\r\n  return (\r\n    <>\r\n      <PanelHeader separator={false} left={<PanelHeaderBack onClick={back} />} />\r\n      <Div\r\n        className={css({\r\n          overflow: 'hidden',\r\n        })}\r\n      >\r\n        <Group\r\n          separator=\"hide\"\r\n          className={css({\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            height: '292px',\r\n          })}\r\n        >\r\n          <CardGrid\r\n            className={css({\r\n              position: 'relative',\r\n              maxWidth: 303,\r\n              height: '100%',\r\n              width: '100%',\r\n              padding: 0,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            })}\r\n          >\r\n            <Slider />\r\n          </CardGrid>\r\n        </Group>\r\n        <QuizItem steps={count} {...questionsDict[activeStep]} />\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport {\r\n  Div,\r\n  Group,\r\n  Title,\r\n  Button,\r\n  Text,\r\n  Subhead,\r\n  PanelHeader,\r\n  PanelHeaderBack,\r\n} from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport Icon24LogoInstagram from '@vkontakte/icons/dist/24/logo_instagram';\r\nimport { getQuizQuestionsDict } from 'core/selectors/quiz';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { replace } from 'connected-react-router';\r\nimport { Twemoji } from 'modules/emoji/Twemoji';\r\n\r\nexport const QuizFinish = React.memo(() => {\r\n  const questionsDict = useSelector(getQuizQuestionsDict);\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch();\r\n\r\n  const goToMainview = React.useCallback(() => {\r\n    dispatch(replace('/home'));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <PanelHeader left={<PanelHeaderBack onClick={goToMainview} />} />\r\n      <Div>\r\n        <Group separator=\"hide\" className={css({ textAlign: 'center' })}>\r\n          <Div\r\n            className={css({\r\n              display: 'flex',\r\n              margin: 'auto',\r\n              color: '#727272',\r\n              flexDirection: 'column',\r\n            })}\r\n          >\r\n            <Title\r\n              weight=\"bold\"\r\n              level=\"1\"\r\n              className={css({ margin: '.5rem 0', fontSize: '34px' })}\r\n            >\r\n              12/15\r\n            </Title>\r\n            <Text weight=\"medium\" className={css({ margin: '.5rem 0' })}>\r\n              Неплохо\r\n            </Text>\r\n          </Div>\r\n          <Div className={css({ display: 'flex' })}>\r\n            <Button\r\n              className={css({\r\n                width: '100%',\r\n                borderRadius: '38px',\r\n              })}\r\n              mode=\"secondary\"\r\n              before={<Icon24LogoInstagram />}\r\n              size=\"l\"\r\n            >\r\n              Поделиться в истории\r\n            </Button>\r\n          </Div>\r\n        </Group>\r\n        <Group separator=\"hide\">\r\n          {Object.values(questionsDict).map((q) => (\r\n            <Div key={q.step}>\r\n              <Text weight=\"medium\" className={css({ margin: '0 0 1rem' })}>\r\n                {q.question}\r\n              </Text>\r\n              <div\r\n                className={css({\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                })}\r\n              >\r\n                <div\r\n                  className={css({\r\n                    width: 48,\r\n                    height: 48,\r\n                    backgroundColor: q.step % 2 === 0 ? '#DFFFDE' : '#FFDEDE',\r\n                    borderRadius: '50%',\r\n                    border: '1px solid #EDEDED',\r\n                    marginRight: '1rem',\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                  })}\r\n                >\r\n                  <Twemoji emoji={q.firstAnswer.emoji} size={26} />\r\n                </div>\r\n                <Subhead\r\n                  weight=\"medium\"\r\n                  className={css({\r\n                    color: q.step % 2 === 0 ? '#71BF41' : '#DB6262',\r\n                  })}\r\n                >\r\n                  Правильный ответ: {q.firstAnswer.text}\r\n                </Subhead>\r\n              </div>\r\n            </Div>\r\n          ))}\r\n        </Group>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { QuizPreview, QuizStart, QuizProcess, QuizFinish } from 'modules/quiz';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getQuizView, getQuizHistory } from 'core/selectors/quiz';\r\nimport { QuizView, AppDispatchActions } from 'core/models';\r\nimport { View, Panel, PanelHeaderBack, PanelHeader } from '@vkontakte/vkui';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\n\r\nexport const Quiz = React.memo(() => {\r\n  const quiView = useSelector(getQuizView);\r\n  const history = useSelector(getQuizHistory);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const swipeBack = React.useCallback(() => {\r\n    dispatch({ type: 'BACK_QUIZ_HISTORY' });\r\n    if (quiView === QuizView.Start) {\r\n      vkBridge.send('VKWebAppDisableSwipeBack');\r\n    }\r\n  }, [dispatch, quiView]);\r\n\r\n  return (\r\n    <View activePanel={quiView} history={history} onSwipeBack={swipeBack}>\r\n      <Panel id={QuizView.Preview}>\r\n        <QuizPreview />\r\n      </Panel>\r\n      <Panel id={QuizView.Start}>\r\n        <PanelHeader\r\n          separator={false}\r\n          left={<PanelHeaderBack onClick={swipeBack} />}\r\n        />\r\n        <QuizStart />\r\n      </Panel>\r\n      <Panel id={QuizView.Process}>\r\n        <QuizProcess />\r\n      </Panel>\r\n      <Panel id={QuizView.Finish}>\r\n        <QuizFinish />\r\n      </Panel>\r\n    </View>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { MainEpicViewType, HomeView } from 'core/models';\r\nimport { View, Panel, Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28Users from '@vkontakte/icons/dist/28/users_outline';\r\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\r\nimport { Home } from 'panels/Home';\r\nimport { Settings } from 'panels/Settings';\r\nimport { Friends } from 'panels/Friends';\r\nimport { RootModals } from 'modules/modals/Root';\r\nimport { getLocationMainView, getLocationMainPath } from 'core/selectors/router';\r\nimport { Quiz } from './Quiz';\r\nimport { useViewChange } from 'core/hooks';\r\nimport { push } from 'connected-react-router';\r\n\r\nexport const Main = React.memo(() => {\r\n  const { goForward } = useViewChange(MainEpicViewType, 'Home');\r\n  const mainView = useSelector(getLocationMainView);\r\n  const mainEpicView = useSelector(getLocationMainPath);\r\n  const dispatch = useDispatch();\r\n\r\n  const goToHome = React.useCallback(() => {\r\n    goForward(MainEpicViewType.Home);\r\n    dispatch(push('/home'));\r\n  }, []);\r\n\r\n  const goToFriends = React.useCallback(() => {\r\n    goForward(MainEpicViewType.Friends);\r\n    dispatch(push('/friends'));\r\n  }, []);\r\n\r\n  const goToSettings = React.useCallback(() => {\r\n    goForward(MainEpicViewType.Settings);\r\n    dispatch(push('/settings'));\r\n  }, []);\r\n\r\n  return (\r\n    <View activePanel={mainView} modal={<RootModals />}>\r\n      <Panel id={HomeView.Main}>\r\n        <Epic\r\n          activeStory={mainEpicView}\r\n          tabbar={\r\n            <Tabbar>\r\n              <TabbarItem\r\n                onClick={goToHome}\r\n                selected={mainEpicView === MainEpicViewType.Home}\r\n              >\r\n                <Icon28NewsfeedOutline />\r\n              </TabbarItem>\r\n              <TabbarItem\r\n                onClick={goToFriends}\r\n                selected={mainEpicView === MainEpicViewType.Friends}\r\n              >\r\n                <Icon28Users />\r\n              </TabbarItem>\r\n              <TabbarItem\r\n                onClick={goToSettings}\r\n                selected={mainEpicView === MainEpicViewType.Settings}\r\n              >\r\n                <Icon28SettingsOutline />\r\n              </TabbarItem>\r\n            </Tabbar>\r\n          }\r\n        >\r\n          <View id={MainEpicViewType.Home} activePanel={MainEpicViewType.Home}>\r\n            <Panel id={MainEpicViewType.Home}>\r\n              <Home />\r\n            </Panel>\r\n          </View>\r\n          <View id={MainEpicViewType.Friends} activePanel={MainEpicViewType.Friends}>\r\n            <Panel id={MainEpicViewType.Friends}>\r\n              <Friends />\r\n            </Panel>\r\n          </View>\r\n          <View\r\n            id={MainEpicViewType.Settings}\r\n            activePanel={MainEpicViewType.Settings}\r\n          >\r\n            <Panel id={MainEpicViewType.Settings}>\r\n              <Settings />\r\n            </Panel>\r\n          </View>\r\n        </Epic>\r\n      </Panel>\r\n      <Panel id={HomeView.Quiz}>\r\n        <Quiz />\r\n      </Panel>\r\n    </View>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getStateRouter } from 'core/selectors/common';\r\nimport { Route, Redirect } from 'react-router';\r\nimport { Main } from 'roots/Main';\r\nimport { getLocationHash, getLocationMainView } from 'core/selectors/router';\r\nimport { push } from 'connected-react-router';\r\nimport { QuizView } from 'core/models';\r\n\r\nconst redirect = () => <Redirect exact strict from=\"/\" to={`/home`} />;\r\n\r\nexport const Router = React.memo(() => {\r\n  const location = useSelector(getStateRouter).location;\r\n  const hash = useSelector(getLocationHash);\r\n  const quizView = useSelector(getLocationMainView) === 'quizView';\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    if (hash) {\r\n      dispatch(push(`/home/quiz?hash=${hash}`));\r\n    } else if (!hash && quizView) {\r\n      dispatch({\r\n        type: 'CHANGE_QUIZ_VIEW',\r\n        payload: { view: QuizView.Process, history: 'init' },\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Main />\r\n      <Route exact strict path=\"/\" location={location} render={redirect} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { ConfigProvider } from '@vkontakte/vkui';\r\nimport { Router } from 'modules/routes';\r\n\r\nconst App = React.memo(() => {\r\n  return (\r\n    <ConfigProvider isWebView>\r\n      <Router />\r\n    </ConfigProvider>\r\n  );\r\n});\r\n\r\nexport default App;\r\n","import { Question, Emoji } from 'core/models';\r\n\r\nexport const questions: {\r\n  [step: number]: Question;\r\n} = {\r\n  [0]: {\r\n    backgroundCard:\r\n      'linear-gradient(180deg, #FFB7A0 0%, #FFB7A0 0.01%, #F5A188 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Coffee,\r\n      id: 1,\r\n      text: 'Кофе',\r\n    },\r\n    id: 11,\r\n    question: 'Что предпочитает Илья: Кофе или чай?',\r\n    secondAnswer: {\r\n      emoji: Emoji.Herb,\r\n      id: 2,\r\n      text: 'Чай',\r\n    },\r\n    step: 0,\r\n  },\r\n  [1]: {\r\n    backgroundCard: 'linear-gradient(180deg, #FEDE9F 0%, #F6CB89 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Fuji,\r\n      id: 3,\r\n      text: 'В горы',\r\n    },\r\n    id: 12,\r\n    question: 'Куда бы поехал Илья? На море или в горы?',\r\n    secondAnswer: {\r\n      emoji: Emoji.Palm,\r\n      id: 4,\r\n      text: 'На море',\r\n    },\r\n    step: 1,\r\n  },\r\n  [2]: {\r\n    backgroundCard: 'linear-gradient(180deg, #A0FFD1 0%, #89F6BB 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Football,\r\n      id: 5,\r\n      text: 'Футбол',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.Basketball,\r\n      id: 6,\r\n      text: 'Баскетбол',\r\n    },\r\n    id: 13,\r\n    question: 'Во что бы Илья поиграл? В футбол или баскетбол?',\r\n    step: 2,\r\n  },\r\n  [3]: {\r\n    backgroundCard: 'linear-gradient(180deg, #A0E8FF 0%, #89E2F6 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.NiceSmile,\r\n      id: 7,\r\n      text: 'Экстраверт',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.JustSmile,\r\n      id: 8,\r\n      text: 'Интроверт',\r\n    },\r\n    id: 14,\r\n    question: 'Кем Илья себя считает? Интровертом или экстравертом?',\r\n    step: 3,\r\n  },\r\n  [4]: {\r\n    backgroundCard: 'linear-gradient(180deg, #EAE7FF 0%, #D8DCFF 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Money,\r\n      id: 9,\r\n      text: 'Деньги',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.Herb,\r\n      id: 10,\r\n      text: 'Любовь',\r\n    },\r\n    id: 15,\r\n    question: 'Кем Илья себя считает? Интровертом или экстравертом?',\r\n    step: 4,\r\n  },\r\n  [5]: {\r\n    backgroundCard: 'linear-gradient(180deg, #D5FFCA 0%, #B6F5D7 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.PointLeft,\r\n      id: 11,\r\n      text: 'Влево',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.PointRight,\r\n      id: 12,\r\n      text: 'Вправо',\r\n    },\r\n    id: 16,\r\n    question: 'Куда бы свайпнул Илья? Влево или вправо?',\r\n    step: 5,\r\n  },\r\n  [6]: {\r\n    backgroundCard: 'linear-gradient(180deg, #CAFCFF 0%, #B6DBF5 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Burger,\r\n      id: 13,\r\n      text: 'Фастфуд',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.Dish,\r\n      id: 14,\r\n      text: 'Домашняя еда',\r\n    },\r\n    id: 17,\r\n    question: 'Что выберет Илья? Фастфуд или домашнюю еду?',\r\n    step: 6,\r\n  },\r\n  [7]: {\r\n    backgroundCard: 'linear-gradient(180deg, #F5E0B6 0%, #FECCC8 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Cat,\r\n      id: 15,\r\n      text: 'Кошек',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.Dog,\r\n      id: 16,\r\n      text: 'Собак',\r\n    },\r\n    id: 18,\r\n    question: 'Кого Илья любит больше? Кошек или собак?',\r\n    step: 7,\r\n  },\r\n  [8]: {\r\n    backgroundCard: 'linear-gradient(180deg, #E1CAFF 0%, #B6C8F5 100%);',\r\n    firstAnswer: {\r\n      emoji: Emoji.Popcorn,\r\n      id: 17,\r\n      text: 'Фильмы',\r\n    },\r\n    secondAnswer: {\r\n      emoji: Emoji.PSJoystick,\r\n      id: 18,\r\n      text: 'Игры',\r\n    },\r\n    id: 19,\r\n    question: 'Что выберет Илья? Фильмы или игры?',\r\n    step: 8,\r\n  },\r\n};\r\n","import * as models from 'core/models';\r\nimport { MainEpicViewType, QuizView, QuizViewPaylod } from 'core/models';\r\nimport { questions, list } from './mock';\r\n\r\nexport const initialState: models.AppState['ui'] = {\r\n  theme: '',\r\n  mainEpicView: MainEpicViewType.Home,\r\n  quiz: {\r\n    activeStep: 0,\r\n    questions,\r\n    view: QuizView.Process,\r\n    history: [QuizView.Preview],\r\n  },\r\n  friends: {\r\n    list,\r\n    selected: null,\r\n  },\r\n  settings: {\r\n    modal: null,\r\n  },\r\n};\r\n\r\nexport const reducer = (\r\n  state = initialState,\r\n  dispatch: models.AppDispatch\r\n): models.AppState['ui'] => {\r\n  switch (dispatch.type) {\r\n    case 'CHANGE_MAIN_EPIC_VIEW': {\r\n      return {\r\n        ...state,\r\n        mainEpicView: dispatch.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_QUIZ_VIEW': {\r\n      return {\r\n        ...state,\r\n        quiz: {\r\n          ...state.quiz,\r\n          view: dispatch.payload.view,\r\n          history: updateQuizHistory(state.quiz, dispatch.payload),\r\n        },\r\n      };\r\n    }\r\n    case 'GET_FRIENDS': {\r\n      return {\r\n        ...state,\r\n        friends: {\r\n          ...state.friends,\r\n          list: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'SELECT_FRIEND': {\r\n      return {\r\n        ...state,\r\n        friends: {\r\n          ...state.friends,\r\n          selected: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'CHANGE_QUIZ_ACTIVE_STEP': {\r\n      return {\r\n        ...state,\r\n        quiz: {\r\n          ...state.quiz,\r\n          activeStep: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'SET_THEME': {\r\n      return {\r\n        ...state,\r\n        theme: dispatch.payload,\r\n      };\r\n    }\r\n    case 'BACK_QUIZ_HISTORY': {\r\n      return {\r\n        ...state,\r\n        quiz: {\r\n          ...state.quiz,\r\n          ...backInQuizHistory(state.quiz),\r\n        },\r\n      };\r\n    }\r\n    case 'SET_SETTINGS_MODAL': {\r\n      return {\r\n        ...state,\r\n        settings: {\r\n          ...state.settings,\r\n          modal: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nconst updateQuizHistory = (\r\n  quiz: models.AppState['ui']['quiz'],\r\n  payload: QuizViewPaylod\r\n) => {\r\n  switch (payload.history) {\r\n    case 'init':\r\n      return [payload.view];\r\n    case 'back':\r\n      return quiz.history.filter((h) => h !== payload.view);\r\n    case 'forward':\r\n      return [...quiz.history, payload.view];\r\n\r\n    default:\r\n      return quiz.history;\r\n  }\r\n};\r\nconst backInQuizHistory = (quiz: models.AppState['ui']['quiz']) => {\r\n  const lastItem = quiz.history.find((_, i) => i === quiz.history.length - 1);\r\n  if (quiz.history.length === 1) {\r\n    return {\r\n      history: quiz.history,\r\n      view: quiz.view !== lastItem ? lastItem : quiz.view,\r\n    };\r\n  }\r\n\r\n  const newQuizHistory = quiz.history.filter((h) => h !== lastItem);\r\n\r\n  return {\r\n    view: newQuizHistory.find((_, i) => i === newQuizHistory.length - 1),\r\n    history: newQuizHistory,\r\n  };\r\n};\r\n","export const list = [\r\n  {\r\n    avatar:\r\n      'https://sun9-61.userapi.com/O-2f7t0yecmx38WXoF37RkhkJTG2rcjL4Yq88w/J39s0u1f90c.jpg?ava=1',\r\n    completeTest: true,\r\n    name: 'Vsay Pfad',\r\n    userId: 1,\r\n  },\r\n  {\r\n    avatar:\r\n      'https://sun9-61.userapi.com/O-2f7t0yecmx38WXoF37RkhkJTG2rcjL4Yq88w/J39s0u1f90c.jpg?ava=1',\r\n    completeTest: false,\r\n    name: 'Vsay Pfad2',\r\n    userId: 2,\r\n  },\r\n  {\r\n    avatar:\r\n      'https://sun9-61.userapi.com/O-2f7t0yecmx38WXoF37RkhkJTG2rcjL4Yq88w/J39s0u1f90c.jpg?ava=1',\r\n    completeTest: false,\r\n    name: 'Vsay Pfad3',\r\n    userId: 3,\r\n  },\r\n  {\r\n    avatar:\r\n      'https://sun9-61.userapi.com/O-2f7t0yecmx38WXoF37RkhkJTG2rcjL4Yq88w/J39s0u1f90c.jpg?ava=1',\r\n    completeTest: false,\r\n    name: 'Vsay Pfad4',\r\n    userId: 4,\r\n  },\r\n];\r\n","import {\r\n  combineReducers,\r\n  createStore,\r\n  ReducersMapObject,\r\n  Store,\r\n  applyMiddleware,\r\n} from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { reducer as uiReducer, initialState } from 'core/reducers/main';\r\nimport { AppState, AppDispatch } from 'core/models';\r\nimport { createBrowserHistory } from 'history';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport { routerMiddleware } from 'connected-react-router';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst rootReducerMap: ReducersMapObject<AppState, AppDispatch> = {\r\n  ui: uiReducer,\r\n  router: connectRouter(history),\r\n};\r\n\r\nexport const store: Store<AppState, AppDispatch> = createStore<\r\n  AppState,\r\n  AppDispatch,\r\n  unknown,\r\n  unknown\r\n>(\r\n  combineReducers(rootReducerMap),\r\n  { ui: initialState },\r\n  composeWithDevTools(applyMiddleware(routerMiddleware(history)))\r\n);\r\n","import { vkBridge } from './instance';\r\nimport { store } from 'core/store';\r\n\r\n// Init VK  Mini App\r\nvkBridge.send('VKWebAppInit');\r\n// set client theme\r\nvkBridge.subscribe(({ detail: { type, data } }) => {\r\n  if (type === 'VKWebAppUpdateConfig') {\r\n    const schemeAttribute = document.createAttribute('scheme');\r\n    const unknownData = data as any;\r\n    const theme = unknownData.scheme ? unknownData.scheme : 'client_light';\r\n    schemeAttribute.value = theme;\r\n    document.body.attributes.setNamedItem(schemeAttribute);\r\n    store.dispatch({ type: 'SET_THEME', payload: theme });\r\n  }\r\n});\r\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider as Redux } from 'react-redux';\nimport { store, history } from 'core/store';\nimport { RendererProvider as Fela } from 'react-fela';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { configureFela } from 'core/fela';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport 'core/vk-bridge/init';\nimport 'assets/css/theme.css';\n\nconst felaRenderer = configureFela();\n\nReactDOM.render(\n  <Redux store={store}>\n    <Fela renderer={felaRenderer}>\n      <ConnectedRouter history={history} noInitialPop>\n        <App />\n      </ConnectedRouter>\n    </Fela>\n  </Redux>,\n  document.getElementById('root')\n);\nif (process.env.NODE_ENV === 'development') {\n  import('./eruda').then(({ default: eruda }) => {}); //runtime download\n}\n","import webPreset from 'fela-preset-web';\r\nimport embedded from 'fela-plugin-embedded';\r\nimport { createRenderer } from 'fela';\r\n\r\nexport const configureFela = () => {\r\n  const renderer = createRenderer({\r\n    selectorPrefix: 'f_',\r\n    plugins: [...webPreset, embedded()]\r\n  });\r\n\r\n  return renderer;\r\n};\r\n","export * from './state';\r\nexport * from './friends';\r\nexport * from './quiz';\r\nexport * from './emoji';"],"sourceRoot":""}